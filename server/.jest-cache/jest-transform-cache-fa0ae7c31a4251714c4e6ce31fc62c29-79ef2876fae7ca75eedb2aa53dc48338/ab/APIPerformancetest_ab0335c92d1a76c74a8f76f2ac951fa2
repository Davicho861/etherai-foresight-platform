8d48e055ac711adfbd991417d9616551
"use strict";

// Mock kernel for agent routes
_getJestObj().mock('../../src/orchestrator.js', () => ({
  kernel: {
    getVigilanceStatus: jest.fn(() => ({
      flows: {
        autoPreservation: {
          active: true,
          lastRun: new Date().toISOString()
        },
        knowledge: {
          active: true,
          lastRun: new Date().toISOString()
        },
        prophecy: {
          active: true,
          lastRun: new Date().toISOString()
        }
      },
      riskIndices: {
        'Colombia': {
          riskScore: 3.2,
          level: 'medium'
        },
        'Argentina': {
          riskScore: 2.8,
          level: 'low'
        }
      },
      activityFeed: [{
        timestamp: new Date().toISOString(),
        flow: 'prophecy',
        message: 'Risk indices updated'
      }]
    }))
  }
}));
_getJestObj().mock('../../src/eventHub.js', () => ({
  subscribe: jest.fn(() => jest.fn())
}));
var _supertest = _interopRequireDefault(require("supertest"));
var _express = _interopRequireDefault(require("express"));
var _alerts = _interopRequireDefault(require("../../src/routes/alerts.js"));
var _agent = _interopRequireDefault(require("../../src/routes/agent.js"));
var _predict = _interopRequireDefault(require("../../src/routes/predict.js"));
var _cache = _interopRequireDefault(require("../../src/cache.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * API Performance Tests for MIS-020 Backend Optimization
 * Tests caching, response times, and performance improvements
 */
const app = (0, _express.default)();
app.use(_express.default.json());
app.use('/api/alerts', _alerts.default);
app.use('/api/agent', _agent.default);
app.use('/api/predict', _predict.default);
describe('API Performance Tests - MIS-020', () => {
  beforeEach(() => {
    // Clear cache before each test
    _cache.default.clear();
  });
  describe('Alerts API Performance', () => {
    test('should cache alerts responses and serve from cache on subsequent calls', async () => {
      const startTime = Date.now();

      // First request - should compute and cache
      const response1 = await (0, _supertest.default)(app).get('/api/alerts').expect(200);
      const firstRequestTime = Date.now() - startTime;
      const startTime2 = Date.now();

      // Second request - should serve from cache
      const response2 = await (0, _supertest.default)(app).get('/api/alerts').expect(200);
      const secondRequestTime = Date.now() - startTime2;

      // Response should be identical
      expect(response1.body).toEqual(response2.body);

      // Second request should be significantly faster (cached)
      expect(secondRequestTime).toBeLessThan(firstRequestTime * 0.7);

      // Verify cache hit
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
    test('should cache filtered alerts responses', async () => {
      // Test caching with filters
      const response1 = await (0, _supertest.default)(app).get('/api/alerts?region=Colombia').expect(200);
      const response2 = await (0, _supertest.default)(app).get('/api/alerts?region=Colombia').expect(200);
      expect(response1.body).toEqual(response2.body);

      // Verify cache with specific key
      const cacheKey = 'alerts:colombia:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toBeDefined();
      expect(cachedData).toEqual(response1.body);
    });
    test('should handle concurrent requests efficiently', async () => {
      const promises = Array(10).fill().map(() => (0, _supertest.default)(app).get('/api/alerts'));
      const startTime = Date.now();
      const responses = await Promise.all(promises);
      const totalTime = Date.now() - startTime;

      // All responses should be successful
      responses.forEach(response => {
        expect(response.status).toBe(200);
        expect(response.body.alerts).toBeDefined();
      });

      // Concurrent requests should complete within reasonable time
      expect(totalTime).toBeLessThan(2000); // 2 seconds for 10 concurrent requests
    });
  });
  describe('Agent API Performance', () => {
    test('should cache vigilance status responses', async () => {
      const response1 = await (0, _supertest.default)(app).get('/api/agent/vigilance/status').expect(200);
      const response2 = await (0, _supertest.default)(app).get('/api/agent/vigilance/status').expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);

      // Verify cache hit
      const cacheKey = 'vigilance:status';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
  });
  describe('Prediction API Performance', () => {
    test('should cache prediction responses based on parameters', async () => {
      const predictionParams = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest.default)(app).post('/api/predict').send(predictionParams).expect(200);
      const response2 = await (0, _supertest.default)(app).post('/api/predict').send(predictionParams).expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);
      expect(response1.body.country).toBe('Colombia');
      expect(response1.body.risk).toBeDefined();
      expect(response1.body.confidence).toBeDefined();
    });
    test('should not cache different prediction parameters', async () => {
      const params1 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const params2 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 30,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest.default)(app).post('/api/predict').send(params1).expect(200);
      const response2 = await (0, _supertest.default)(app).post('/api/predict').send(params2).expect(200);

      // Responses should be different due to different parameters
      expect(response1.body.score).not.toBe(response2.body.score);
    });
  });
  describe('Cache Performance Metrics', () => {
    test('should demonstrate significant performance improvement with caching', async () => {
      // Measure time without cache (simulate by clearing cache)
      _cache.default.clear();
      const startTime1 = process.hrtime.bigint();
      await (0, _supertest.default)(app).get('/api/alerts');
      const endTime1 = process.hrtime.bigint();
      const time1 = Number(endTime1 - startTime1) / 1000000; // Convert to milliseconds

      const startTime2 = process.hrtime.bigint();
      await (0, _supertest.default)(app).get('/api/alerts'); // Should hit cache
      const endTime2 = process.hrtime.bigint();
      const time2 = Number(endTime2 - startTime2) / 1000000;

      // Cached request should be at least 20% faster
      expect(time2).toBeLessThan(time1 * 0.8);
    });
    test('should maintain cache TTL and expiration', async () => {
      // Set a short TTL for testing
      const shortTTL = 100; // 100ms

      // Make request and cache it
      await (0, _supertest.default)(app).get('/api/alerts');

      // Modify cache to have short TTL
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      _cache.default.set(cacheKey, cachedData, shortTTL);

      // Wait for expiration
      await new Promise(resolve => setTimeout(resolve, shortTTL + 10));

      // Cache should be expired
      const expiredData = _cache.default.get(cacheKey);
      expect(expiredData).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJrZXJuZWwiLCJnZXRWaWdpbGFuY2VTdGF0dXMiLCJqZXN0IiwiZm4iLCJmbG93cyIsImF1dG9QcmVzZXJ2YXRpb24iLCJhY3RpdmUiLCJsYXN0UnVuIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia25vd2xlZGdlIiwicHJvcGhlY3kiLCJyaXNrSW5kaWNlcyIsInJpc2tTY29yZSIsImxldmVsIiwiYWN0aXZpdHlGZWVkIiwidGltZXN0YW1wIiwiZmxvdyIsIm1lc3NhZ2UiLCJzdWJzY3JpYmUiLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXhwcmVzcyIsIl9hbGVydHMiLCJfYWdlbnQiLCJfcHJlZGljdCIsIl9jYWNoZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJqc29uIiwiYWxlcnRzUm91dGVyIiwiYWdlbnRSb3V0ZXIiLCJwcmVkaWN0Um91dGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2FjaGUiLCJjbGVhciIsInRlc3QiLCJzdGFydFRpbWUiLCJub3ciLCJyZXNwb25zZTEiLCJyZXF1ZXN0IiwiZ2V0IiwiZXhwZWN0IiwiZmlyc3RSZXF1ZXN0VGltZSIsInN0YXJ0VGltZTIiLCJyZXNwb25zZTIiLCJzZWNvbmRSZXF1ZXN0VGltZSIsImJvZHkiLCJ0b0VxdWFsIiwidG9CZUxlc3NUaGFuIiwiY2FjaGVLZXkiLCJjYWNoZWREYXRhIiwidG9CZURlZmluZWQiLCJwcm9taXNlcyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsInJlc3BvbnNlcyIsIlByb21pc2UiLCJhbGwiLCJ0b3RhbFRpbWUiLCJmb3JFYWNoIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJ0b0JlIiwiYWxlcnRzIiwicHJlZGljdGlvblBhcmFtcyIsImNvdW50cnkiLCJwYXJhbWV0ZXJzIiwiaW5mZWN0aW9uUmF0ZSIsInByb3Rlc3RJbmRleCIsImVjb25vbWljSW5kZXgiLCJ0ZW1wZXJhdHVyZSIsInBvc3QiLCJzZW5kIiwicmlzayIsImNvbmZpZGVuY2UiLCJwYXJhbXMxIiwicGFyYW1zMiIsInNjb3JlIiwibm90Iiwic3RhcnRUaW1lMSIsInByb2Nlc3MiLCJocnRpbWUiLCJiaWdpbnQiLCJlbmRUaW1lMSIsInRpbWUxIiwiTnVtYmVyIiwiZW5kVGltZTIiLCJ0aW1lMiIsInNob3J0VFRMIiwic2V0IiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJleHBpcmVkRGF0YSIsInRvQmVOdWxsIl0sInNvdXJjZXMiOlsiQVBJUGVyZm9ybWFuY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFQSSBQZXJmb3JtYW5jZSBUZXN0cyBmb3IgTUlTLTAyMCBCYWNrZW5kIE9wdGltaXphdGlvblxuICogVGVzdHMgY2FjaGluZywgcmVzcG9uc2UgdGltZXMsIGFuZCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudHNcbiAqL1xuXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcnRlc3QnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYWxlcnRzUm91dGVyIGZyb20gJy4uLy4uL3NyYy9yb3V0ZXMvYWxlcnRzLmpzJztcbmltcG9ydCBhZ2VudFJvdXRlciBmcm9tICcuLi8uLi9zcmMvcm91dGVzL2FnZW50LmpzJztcbmltcG9ydCBwcmVkaWN0Um91dGVyIGZyb20gJy4uLy4uL3NyYy9yb3V0ZXMvcHJlZGljdC5qcyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vc3JjL2NhY2hlLmpzJztcblxuLy8gTW9jayBrZXJuZWwgZm9yIGFnZW50IHJvdXRlc1xuamVzdC5tb2NrKCcuLi8uLi9zcmMvb3JjaGVzdHJhdG9yLmpzJywgKCkgPT4gKHtcbiAga2VybmVsOiB7XG4gICAgZ2V0VmlnaWxhbmNlU3RhdHVzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBmbG93czoge1xuICAgICAgICBhdXRvUHJlc2VydmF0aW9uOiB7IGFjdGl2ZTogdHJ1ZSwgbGFzdFJ1bjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIGtub3dsZWRnZTogeyBhY3RpdmU6IHRydWUsIGxhc3RSdW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICBwcm9waGVjeTogeyBhY3RpdmU6IHRydWUsIGxhc3RSdW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9XG4gICAgICB9LFxuICAgICAgcmlza0luZGljZXM6IHtcbiAgICAgICAgJ0NvbG9tYmlhJzogeyByaXNrU2NvcmU6IDMuMiwgbGV2ZWw6ICdtZWRpdW0nIH0sXG4gICAgICAgICdBcmdlbnRpbmEnOiB7IHJpc2tTY29yZTogMi44LCBsZXZlbDogJ2xvdycgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXR5RmVlZDogW1xuICAgICAgICB7IHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBmbG93OiAncHJvcGhlY3knLCBtZXNzYWdlOiAnUmlzayBpbmRpY2VzIHVwZGF0ZWQnIH1cbiAgICAgIF1cbiAgICB9KSlcbiAgfVxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9ldmVudEh1Yi5qcycsICgpID0+ICh7XG4gIHN1YnNjcmliZTogamVzdC5mbigoKSA9PiBqZXN0LmZuKCkpXG59KSk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZSgnL2FwaS9hbGVydHMnLCBhbGVydHNSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9hZ2VudCcsIGFnZW50Um91dGVyKTtcbmFwcC51c2UoJy9hcGkvcHJlZGljdCcsIHByZWRpY3RSb3V0ZXIpO1xuXG5kZXNjcmliZSgnQVBJIFBlcmZvcm1hbmNlIFRlc3RzIC0gTUlTLTAyMCcsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2xlYXIgY2FjaGUgYmVmb3JlIGVhY2ggdGVzdFxuICAgIGNhY2hlLmNsZWFyKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBbGVydHMgQVBJIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSBhbGVydHMgcmVzcG9uc2VzIGFuZCBzZXJ2ZSBmcm9tIGNhY2hlIG9uIHN1YnNlcXVlbnQgY2FsbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAvLyBGaXJzdCByZXF1ZXN0IC0gc2hvdWxkIGNvbXB1dGUgYW5kIGNhY2hlXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hbGVydHMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IGZpcnN0UmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUyID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gU2Vjb25kIHJlcXVlc3QgLSBzaG91bGQgc2VydmUgZnJvbSBjYWNoZVxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvYWxlcnRzJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBzZWNvbmRSZXF1ZXN0VGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWUyO1xuXG4gICAgICAvLyBSZXNwb25zZSBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuXG4gICAgICAvLyBTZWNvbmQgcmVxdWVzdCBzaG91bGQgYmUgc2lnbmlmaWNhbnRseSBmYXN0ZXIgKGNhY2hlZClcbiAgICAgIGV4cGVjdChzZWNvbmRSZXF1ZXN0VGltZSkudG9CZUxlc3NUaGFuKGZpcnN0UmVxdWVzdFRpbWUgKiAwLjcpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FjaGUgaGl0XG4gICAgICBjb25zdCBjYWNoZUtleSA9ICdhbGVydHM6YWxsOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9FcXVhbChyZXNwb25zZTEuYm9keSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2FjaGUgZmlsdGVyZWQgYWxlcnRzIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRlc3QgY2FjaGluZyB3aXRoIGZpbHRlcnNcbiAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FsZXJ0cz9yZWdpb249Q29sb21iaWEnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FsZXJ0cz9yZWdpb249Q29sb21iaWEnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keSkudG9FcXVhbChyZXNwb25zZTIuYm9keSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjYWNoZSB3aXRoIHNwZWNpZmljIGtleVxuICAgICAgY29uc3QgY2FjaGVLZXkgPSAnYWxlcnRzOmNvbG9tYmlhOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjYWNoZWREYXRhKS50b0VxdWFsKHJlc3BvbnNlMS5ib2R5KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY29uY3VycmVudCByZXF1ZXN0cyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkoMTApLmZpbGwoKS5tYXAoKCkgPT5cbiAgICAgICAgcmVxdWVzdChhcHApLmdldCgnL2FwaS9hbGVydHMnKVxuICAgICAgKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIEFsbCByZXNwb25zZXMgc2hvdWxkIGJlIHN1Y2Nlc3NmdWxcbiAgICAgIHJlc3BvbnNlcy5mb3JFYWNoKHJlc3BvbnNlID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5hbGVydHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ29uY3VycmVudCByZXF1ZXN0cyBzaG91bGQgY29tcGxldGUgd2l0aGluIHJlYXNvbmFibGUgdGltZVxuICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDIwMDApOyAvLyAyIHNlY29uZHMgZm9yIDEwIGNvbmN1cnJlbnQgcmVxdWVzdHNcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FnZW50IEFQSSBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY2FjaGUgdmlnaWxhbmNlIHN0YXR1cyByZXNwb25zZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hZ2VudC92aWdpbGFuY2Uvc3RhdHVzJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hZ2VudC92aWdpbGFuY2Uvc3RhdHVzJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICAvLyBSZXNwb25zZXMgc2hvdWxkIGJlIGlkZW50aWNhbFxuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5KS50b0VxdWFsKHJlc3BvbnNlMi5ib2R5KTtcblxuICAgICAgLy8gVmVyaWZ5IGNhY2hlIGhpdFxuICAgICAgY29uc3QgY2FjaGVLZXkgPSAndmlnaWxhbmNlOnN0YXR1cyc7XG4gICAgICBjb25zdCBjYWNoZWREYXRhID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGV4cGVjdChjYWNoZWREYXRhKS50b0VxdWFsKHJlc3BvbnNlMS5ib2R5KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ByZWRpY3Rpb24gQVBJIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSBwcmVkaWN0aW9uIHJlc3BvbnNlcyBiYXNlZCBvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJlZGljdGlvblBhcmFtcyA9IHtcbiAgICAgICAgY291bnRyeTogJ0NvbG9tYmlhJyxcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIGluZmVjdGlvblJhdGU6IDI1LFxuICAgICAgICAgIHByb3Rlc3RJbmRleDogMTUsXG4gICAgICAgICAgZWNvbm9taWNJbmRleDogMTAsXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDVcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwcmVkaWN0aW9uUGFyYW1zKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9wcmVkaWN0JylcbiAgICAgICAgLnNlbmQocHJlZGljdGlvblBhcmFtcylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICAvLyBSZXNwb25zZXMgc2hvdWxkIGJlIGlkZW50aWNhbFxuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5KS50b0VxdWFsKHJlc3BvbnNlMi5ib2R5KTtcbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keS5jb3VudHJ5KS50b0JlKCdDb2xvbWJpYScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5LnJpc2spLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkuY29uZmlkZW5jZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBub3QgY2FjaGUgZGlmZmVyZW50IHByZWRpY3Rpb24gcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtczEgPSB7XG4gICAgICAgIGNvdW50cnk6ICdDb2xvbWJpYScsXG4gICAgICAgIHBhcmFtZXRlcnM6IHsgaW5mZWN0aW9uUmF0ZTogMjUsIHByb3Rlc3RJbmRleDogMTUsIGVjb25vbWljSW5kZXg6IDEwLCB0ZW1wZXJhdHVyZTogNSB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwYXJhbXMyID0ge1xuICAgICAgICBjb3VudHJ5OiAnQ29sb21iaWEnLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7IGluZmVjdGlvblJhdGU6IDMwLCBwcm90ZXN0SW5kZXg6IDE1LCBlY29ub21pY0luZGV4OiAxMCwgdGVtcGVyYXR1cmU6IDUgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwYXJhbXMxKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9wcmVkaWN0JylcbiAgICAgICAgLnNlbmQocGFyYW1zMilcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICAvLyBSZXNwb25zZXMgc2hvdWxkIGJlIGRpZmZlcmVudCBkdWUgdG8gZGlmZmVyZW50IHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keS5zY29yZSkubm90LnRvQmUocmVzcG9uc2UyLmJvZHkuc2NvcmUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FjaGUgUGVyZm9ybWFuY2UgTWV0cmljcycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGVtb25zdHJhdGUgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgd2l0aCBjYWNoaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTWVhc3VyZSB0aW1lIHdpdGhvdXQgY2FjaGUgKHNpbXVsYXRlIGJ5IGNsZWFyaW5nIGNhY2hlKVxuICAgICAgY2FjaGUuY2xlYXIoKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lMSA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgICAgYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9hbGVydHMnKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUxID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgICBjb25zdCB0aW1lMSA9IE51bWJlcihlbmRUaW1lMSAtIHN0YXJ0VGltZTEpIC8gMTAwMDAwMDsgLy8gQ29udmVydCB0byBtaWxsaXNlY29uZHNcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lMiA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgICAgYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9hbGVydHMnKTsgLy8gU2hvdWxkIGhpdCBjYWNoZVxuICAgICAgY29uc3QgZW5kVGltZTIgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICAgIGNvbnN0IHRpbWUyID0gTnVtYmVyKGVuZFRpbWUyIC0gc3RhcnRUaW1lMikgLyAxMDAwMDAwO1xuXG4gICAgICAvLyBDYWNoZWQgcmVxdWVzdCBzaG91bGQgYmUgYXQgbGVhc3QgMjAlIGZhc3RlclxuICAgICAgZXhwZWN0KHRpbWUyKS50b0JlTGVzc1RoYW4odGltZTEgKiAwLjgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIGNhY2hlIFRUTCBhbmQgZXhwaXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNldCBhIHNob3J0IFRUTCBmb3IgdGVzdGluZ1xuICAgICAgY29uc3Qgc2hvcnRUVEwgPSAxMDA7IC8vIDEwMG1zXG5cbiAgICAgIC8vIE1ha2UgcmVxdWVzdCBhbmQgY2FjaGUgaXRcbiAgICAgIGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvYWxlcnRzJyk7XG5cbiAgICAgIC8vIE1vZGlmeSBjYWNoZSB0byBoYXZlIHNob3J0IFRUTFxuICAgICAgY29uc3QgY2FjaGVLZXkgPSAnYWxlcnRzOmFsbDphbGw6YWxsJztcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCBjYWNoZWREYXRhLCBzaG9ydFRUTCk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGV4cGlyYXRpb25cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBzaG9ydFRUTCArIDEwKSk7XG5cbiAgICAgIC8vIENhY2hlIHNob3VsZCBiZSBleHBpcmVkXG4gICAgICBjb25zdCBleHBpcmVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBleHBlY3QoZXhwaXJlZERhdGEpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQVlBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDJCQUEyQixFQUFFLE9BQU87RUFDNUNDLE1BQU0sRUFBRTtJQUNOQyxrQkFBa0IsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsT0FBTztNQUNqQ0MsS0FB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
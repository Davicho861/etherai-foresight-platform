bb4ae2ca1f19106bf819b5830101f3a4
"use strict";

// Mock kernel for agent routes
_getJestObj().mock('../../src/orchestrator.js', () => ({
  kernel: {
    getVigilanceStatus: jest.fn(() => ({
      flows: {
        autoPreservation: {
          active: true,
          lastRun: new Date().toISOString()
        },
        knowledge: {
          active: true,
          lastRun: new Date().toISOString()
        },
        prophecy: {
          active: true,
          lastRun: new Date().toISOString()
        }
      },
      riskIndices: {
        'Colombia': {
          riskScore: 3.2,
          level: 'medium'
        },
        'Argentina': {
          riskScore: 2.8,
          level: 'low'
        }
      },
      activityFeed: [{
        timestamp: new Date().toISOString(),
        flow: 'prophecy',
        message: 'Risk indices updated'
      }]
    }))
  }
}));
_getJestObj().mock('../../src/eventHub.js', () => ({
  subscribe: jest.fn(() => jest.fn())
}));
var _supertest = _interopRequireDefault(require("supertest"));
var _express = _interopRequireDefault(require("express"));
var _alerts = _interopRequireDefault(require("../../src/routes/alerts.js"));
var _agent = _interopRequireDefault(require("../../src/routes/agent.js"));
var _predict = _interopRequireDefault(require("../../src/routes/predict.js"));
var _cache = _interopRequireDefault(require("../../src/cache.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * API Performance Tests for MIS-020 Backend Optimization
 * Tests caching, response times, and performance improvements
 */
const app = (0, _express.default)();
app.use(_express.default.json());
app.use('/api/alerts', _alerts.default);
app.use('/api/agent', _agent.default);
app.use('/api/predict', _predict.default);
describe('API Performance Tests - MIS-020', () => {
  beforeEach(() => {
    // Clear cache before each test
    _cache.default.clear();
  });
  describe('Alerts API Performance', () => {
    test('should cache alerts responses and serve from cache on subsequent calls', async () => {
      const startTime = Date.now();

      // First request - should compute and cache
      const response1 = await (0, _supertest.default)(app).get('/api/alerts').expect(200);
      const firstRequestTime = Date.now() - startTime;
      const startTime2 = Date.now();

      // Second request - should serve from cache
      const response2 = await (0, _supertest.default)(app).get('/api/alerts').expect(200);
      const secondRequestTime = Date.now() - startTime2;

      // Response should be identical
      expect(response1.body).toEqual(response2.body);

      // Second request should be significantly faster (cached)
      expect(secondRequestTime).toBeLessThan(firstRequestTime * 0.7);

      // Verify cache hit
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
    test('should cache filtered alerts responses', async () => {
      // Test caching with filters
      const response1 = await (0, _supertest.default)(app).get('/api/alerts?region=Colombia').expect(200);
      const response2 = await (0, _supertest.default)(app).get('/api/alerts?region=Colombia').expect(200);
      expect(response1.body).toEqual(response2.body);

      // Verify cache with specific key
      const cacheKey = 'alerts:colombia:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toBeDefined();
      expect(cachedData.alerts).toEqual(response1.body.alerts);
    });
    test('should handle concurrent requests efficiently', async () => {
      const promises = Array(10).fill().map(() => (0, _supertest.default)(app).get('/api/alerts'));
      const startTime = Date.now();
      const responses = await Promise.all(promises);
      const totalTime = Date.now() - startTime;

      // All responses should be successful
      responses.forEach(response => {
        expect(response.status).toBe(200);
        expect(response.body.alerts).toBeDefined();
      });

      // Concurrent requests should complete within reasonable time
      expect(totalTime).toBeLessThan(2000); // 2 seconds for 10 concurrent requests
    });
  });
  describe('Agent API Performance', () => {
    test('should cache vigilance status responses', async () => {
      const response1 = await (0, _supertest.default)(app).get('/api/agent/vigilance/status').expect(200);
      const response2 = await (0, _supertest.default)(app).get('/api/agent/vigilance/status').expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);

      // Verify cache hit
      const cacheKey = 'vigilance:status';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
  });
  describe('Prediction API Performance', () => {
    test('should cache prediction responses based on parameters', async () => {
      const predictionParams = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest.default)(app).post('/api/predict').send(predictionParams).expect(200);
      const response2 = await (0, _supertest.default)(app).post('/api/predict').send(predictionParams).expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);
      expect(response1.body.country).toBe('Colombia');
      expect(response1.body.risk).toBeDefined();
      expect(response1.body.confidence).toBeDefined();
    });
    test('should not cache different prediction parameters', async () => {
      const params1 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const params2 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 30,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest.default)(app).post('/api/predict').send(params1).expect(200);
      const response2 = await (0, _supertest.default)(app).post('/api/predict').send(params2).expect(200);

      // Responses should be different due to different parameters
      expect(response1.body.score).not.toBe(response2.body.score);
    });
  });
  describe('Cache Performance Metrics', () => {
    test('should demonstrate significant performance improvement with caching', async () => {
      // Measure time without cache (simulate by clearing cache)
      _cache.default.clear();
      const startTime1 = process.hrtime.bigint();
      await (0, _supertest.default)(app).get('/api/alerts');
      const endTime1 = process.hrtime.bigint();
      const time1 = Number(endTime1 - startTime1) / 1000000; // Convert to milliseconds

      const startTime2 = process.hrtime.bigint();
      await (0, _supertest.default)(app).get('/api/alerts'); // Should hit cache
      const endTime2 = process.hrtime.bigint();
      const time2 = Number(endTime2 - startTime2) / 1000000;

      // Cached request should be at least 30% faster
      expect(time2).toBeLessThan(time1 * 0.7);
    });
    test('should maintain cache TTL and expiration', async () => {
      // Set a short TTL for testing
      const shortTTL = 100; // 100ms

      // Make request and cache it
      await (0, _supertest.default)(app).get('/api/alerts');

      // Modify cache to have short TTL
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      _cache.default.set(cacheKey, cachedData, shortTTL);

      // Wait for expiration
      await new Promise(resolve => setTimeout(resolve, shortTTL + 10));

      // Cache should be expired
      const expiredData = _cache.default.get(cacheKey);
      expect(expiredData).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJrZXJuZWwiLCJnZXRWaWdpbGFuY2VTdGF0dXMiLCJqZXN0IiwiZm4iLCJmbG93cyIsImF1dG9QcmVzZXJ2YXRpb24iLCJhY3RpdmUiLCJsYXN0UnVuIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia25vd2xlZGdlIiwicHJvcGhlY3kiLCJyaXNrSW5kaWNlcyIsInJpc2tTY29yZSIsImxldmVsIiwiYWN0aXZpdHlGZWVkIiwidGltZXN0YW1wIiwiZmxvdyIsIm1lc3NhZ2UiLCJzdWJzY3JpYmUiLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXhwcmVzcyIsIl9hbGVydHMiLCJfYWdlbnQiLCJfcHJlZGljdCIsIl9jYWNoZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJqc29uIiwiYWxlcnRzUm91dGVyIiwiYWdlbnRSb3V0ZXIiLCJwcmVkaWN0Um91dGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2FjaGUiLCJjbGVhciIsInRlc3QiLCJzdGFydFRpbWUiLCJub3ciLCJyZXNwb25zZTEiLCJyZXF1ZXN0IiwiZ2V0IiwiZXhwZWN0IiwiZmlyc3RSZXF1ZXN0VGltZSIsInN0YXJ0VGltZTIiLCJyZXNwb25zZTIiLCJzZWNvbmRSZXF1ZXN0VGltZSIsImJvZHkiLCJ0b0VxdWFsIiwidG9CZUxlc3NUaGFuIiwiY2FjaGVLZXkiLCJjYWNoZWREYXRhIiwidG9CZURlZmluZWQiLCJhbGVydHMiLCJwcm9taXNlcyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsInJlc3BvbnNlcyIsIlByb21pc2UiLCJhbGwiLCJ0b3RhbFRpbWUiLCJmb3JFYWNoIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJ0b0JlIiwicHJlZGljdGlvblBhcmFtcyIsImNvdW50cnkiLCJwYXJhbWV0ZXJzIiwiaW5mZWN0aW9uUmF0ZSIsInByb3Rlc3RJbmRleCIsImVjb25vbWljSW5kZXgiLCJ0ZW1wZXJhdHVyZSIsInBvc3QiLCJzZW5kIiwicmlzayIsImNvbmZpZGVuY2UiLCJwYXJhbXMxIiwicGFyYW1zMiIsInNjb3JlIiwibm90Iiwic3RhcnRUaW1lMSIsInByb2Nlc3MiLCJocnRpbWUiLCJiaWdpbnQiLCJlbmRUaW1lMSIsInRpbWUxIiwiTnVtYmVyIiwiZW5kVGltZTIiLCJ0aW1lMiIsInNob3J0VFRMIiwic2V0IiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJleHBpcmVkRGF0YSIsInRvQmVOdWxsIl0sInNvdXJjZXMiOlsiQVBJUGVyZm9ybWFuY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFQSSBQZXJmb3JtYW5jZSBUZXN0cyBmb3IgTUlTLTAyMCBCYWNrZW5kIE9wdGltaXphdGlvblxuICogVGVzdHMgY2FjaGluZywgcmVzcG9uc2UgdGltZXMsIGFuZCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudHNcbiAqL1xuXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcnRlc3QnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYWxlcnRzUm91dGVyIGZyb20gJy4uLy4uL3NyYy9yb3V0ZXMvYWxlcnRzLmpzJztcbmltcG9ydCBhZ2VudFJvdXRlciBmcm9tICcuLi8uLi9zcmMvcm91dGVzL2FnZW50LmpzJztcbmltcG9ydCBwcmVkaWN0Um91dGVyIGZyb20gJy4uLy4uL3NyYy9yb3V0ZXMvcHJlZGljdC5qcyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vc3JjL2NhY2hlLmpzJztcblxuLy8gTW9jayBrZXJuZWwgZm9yIGFnZW50IHJvdXRlc1xuamVzdC5tb2NrKCcuLi8uLi9zcmMvb3JjaGVzdHJhdG9yLmpzJywgKCkgPT4gKHtcbiAga2VybmVsOiB7XG4gICAgZ2V0VmlnaWxhbmNlU3RhdHVzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBmbG93czoge1xuICAgICAgICBhdXRvUHJlc2VydmF0aW9uOiB7IGFjdGl2ZTogdHJ1ZSwgbGFzdFJ1bjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIGtub3dsZWRnZTogeyBhY3RpdmU6IHRydWUsIGxhc3RSdW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICBwcm9waGVjeTogeyBhY3RpdmU6IHRydWUsIGxhc3RSdW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9XG4gICAgICB9LFxuICAgICAgcmlza0luZGljZXM6IHtcbiAgICAgICAgJ0NvbG9tYmlhJzogeyByaXNrU2NvcmU6IDMuMiwgbGV2ZWw6ICdtZWRpdW0nIH0sXG4gICAgICAgICdBcmdlbnRpbmEnOiB7IHJpc2tTY29yZTogMi44LCBsZXZlbDogJ2xvdycgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2aXR5RmVlZDogW1xuICAgICAgICB7IHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBmbG93OiAncHJvcGhlY3knLCBtZXNzYWdlOiAnUmlzayBpbmRpY2VzIHVwZGF0ZWQnIH1cbiAgICAgIF1cbiAgICB9KSlcbiAgfVxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9ldmVudEh1Yi5qcycsICgpID0+ICh7XG4gIHN1YnNjcmliZTogamVzdC5mbigoKSA9PiBqZXN0LmZuKCkpXG59KSk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZSgnL2FwaS9hbGVydHMnLCBhbGVydHNSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9hZ2VudCcsIGFnZW50Um91dGVyKTtcbmFwcC51c2UoJy9hcGkvcHJlZGljdCcsIHByZWRpY3RSb3V0ZXIpO1xuXG5kZXNjcmliZSgnQVBJIFBlcmZvcm1hbmNlIFRlc3RzIC0gTUlTLTAyMCcsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2xlYXIgY2FjaGUgYmVmb3JlIGVhY2ggdGVzdFxuICAgIGNhY2hlLmNsZWFyKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBbGVydHMgQVBJIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSBhbGVydHMgcmVzcG9uc2VzIGFuZCBzZXJ2ZSBmcm9tIGNhY2hlIG9uIHN1YnNlcXVlbnQgY2FsbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAvLyBGaXJzdCByZXF1ZXN0IC0gc2hvdWxkIGNvbXB1dGUgYW5kIGNhY2hlXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hbGVydHMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IGZpcnN0UmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUyID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gU2Vjb25kIHJlcXVlc3QgLSBzaG91bGQgc2VydmUgZnJvbSBjYWNoZVxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvYWxlcnRzJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBzZWNvbmRSZXF1ZXN0VGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWUyO1xuXG4gICAgICAvLyBSZXNwb25zZSBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuXG4gICAgICAvLyBTZWNvbmQgcmVxdWVzdCBzaG91bGQgYmUgc2lnbmlmaWNhbnRseSBmYXN0ZXIgKGNhY2hlZClcbiAgICAgIGV4cGVjdChzZWNvbmRSZXF1ZXN0VGltZSkudG9CZUxlc3NUaGFuKGZpcnN0UmVxdWVzdFRpbWUgKiAwLjcpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FjaGUgaGl0XG4gICAgICBjb25zdCBjYWNoZUtleSA9ICdhbGVydHM6YWxsOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9FcXVhbChyZXNwb25zZTEuYm9keSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2FjaGUgZmlsdGVyZWQgYWxlcnRzIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRlc3QgY2FjaGluZyB3aXRoIGZpbHRlcnNcbiAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FsZXJ0cz9yZWdpb249Q29sb21iaWEnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FsZXJ0cz9yZWdpb249Q29sb21iaWEnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keSkudG9FcXVhbChyZXNwb25zZTIuYm9keSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjYWNoZSB3aXRoIHNwZWNpZmljIGtleVxuICAgICAgY29uc3QgY2FjaGVLZXkgPSAnYWxlcnRzOmNvbG9tYmlhOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjYWNoZWREYXRhLmFsZXJ0cykudG9FcXVhbChyZXNwb25zZTEuYm9keS5hbGVydHMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheSgxMCkuZmlsbCgpLm1hcCgoKSA9PlxuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgY29uc3QgdG90YWxUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gQWxsIHJlc3BvbnNlcyBzaG91bGQgYmUgc3VjY2Vzc2Z1bFxuICAgICAgcmVzcG9uc2VzLmZvckVhY2gocmVzcG9uc2UgPT4ge1xuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmFsZXJ0cykudG9CZURlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25jdXJyZW50IHJlcXVlc3RzIHNob3VsZCBjb21wbGV0ZSB3aXRoaW4gcmVhc29uYWJsZSB0aW1lXG4gICAgICBleHBlY3QodG90YWxUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIDIgc2Vjb25kcyBmb3IgMTAgY29uY3VycmVudCByZXF1ZXN0c1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWdlbnQgQVBJIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSB2aWdpbGFuY2Ugc3RhdHVzIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FnZW50L3ZpZ2lsYW5jZS9zdGF0dXMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FnZW50L3ZpZ2lsYW5jZS9zdGF0dXMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FjaGUgaGl0XG4gICAgICBjb25zdCBjYWNoZUtleSA9ICd2aWdpbGFuY2U6c3RhdHVzJztcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvRXF1YWwocmVzcG9uc2UxLmJvZHkpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJlZGljdGlvbiBBUEkgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNhY2hlIHByZWRpY3Rpb24gcmVzcG9uc2VzIGJhc2VkIG9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcmVkaWN0aW9uUGFyYW1zID0ge1xuICAgICAgICBjb3VudHJ5OiAnQ29sb21iaWEnLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgaW5mZWN0aW9uUmF0ZTogMjUsXG4gICAgICAgICAgcHJvdGVzdEluZGV4OiAxNSxcbiAgICAgICAgICBlY29ub21pY0luZGV4OiAxMCxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogNVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcHJlZGljdCcpXG4gICAgICAgIC5zZW5kKHByZWRpY3Rpb25QYXJhbXMpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwcmVkaWN0aW9uUGFyYW1zKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5LmNvdW50cnkpLnRvQmUoJ0NvbG9tYmlhJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkucmlzaykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keS5jb25maWRlbmNlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG5vdCBjYWNoZSBkaWZmZXJlbnQgcHJlZGljdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zMSA9IHtcbiAgICAgICAgY291bnRyeTogJ0NvbG9tYmlhJyxcbiAgICAgICAgcGFyYW1ldGVyczogeyBpbmZlY3Rpb25SYXRlOiAyNSwgcHJvdGVzdEluZGV4OiAxNSwgZWNvbm9taWNJbmRleDogMTAsIHRlbXBlcmF0dXJlOiA1IH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBhcmFtczIgPSB7XG4gICAgICAgIGNvdW50cnk6ICdDb2xvbWJpYScsXG4gICAgICAgIHBhcmFtZXRlcnM6IHsgaW5mZWN0aW9uUmF0ZTogMzAsIHByb3Rlc3RJbmRleDogMTUsIGVjb25vbWljSW5kZXg6IDEwLCB0ZW1wZXJhdHVyZTogNSB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcHJlZGljdCcpXG4gICAgICAgIC5zZW5kKHBhcmFtczEpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwYXJhbXMyKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgZGlmZmVyZW50IGR1ZSB0byBkaWZmZXJlbnQgcGFyYW1ldGVyc1xuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5LnNjb3JlKS5ub3QudG9CZShyZXNwb25zZTIuYm9keS5zY29yZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWNoZSBQZXJmb3JtYW5jZSBNZXRyaWNzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkZW1vbnN0cmF0ZSBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCB3aXRoIGNhY2hpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNZWFzdXJlIHRpbWUgd2l0aG91dCBjYWNoZSAoc2ltdWxhdGUgYnkgY2xlYXJpbmcgY2FjaGUpXG4gICAgICBjYWNoZS5jbGVhcigpO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUxID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpO1xuICAgICAgY29uc3QgZW5kVGltZTEgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICAgIGNvbnN0IHRpbWUxID0gTnVtYmVyKGVuZFRpbWUxIC0gc3RhcnRUaW1lMSkgLyAxMDAwMDAwOyAvLyBDb252ZXJ0IHRvIG1pbGxpc2Vjb25kc1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUyID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpOyAvLyBTaG91bGQgaGl0IGNhY2hlXG4gICAgICBjb25zdCBlbmRUaW1lMiA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgICAgY29uc3QgdGltZTIgPSBOdW1iZXIoZW5kVGltZTIgLSBzdGFydFRpbWUyKSAvIDEwMDAwMDA7XG5cbiAgICAgIC8vIENhY2hlZCByZXF1ZXN0IHNob3VsZCBiZSBhdCBsZWFzdCAzMCUgZmFzdGVyXG4gICAgICBleHBlY3QodGltZTIpLnRvQmVMZXNzVGhhbih0aW1lMSAqIDAuNyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gY2FjaGUgVFRMIGFuZCBleHBpcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2V0IGEgc2hvcnQgVFRMIGZvciB0ZXN0aW5nXG4gICAgICBjb25zdCBzaG9ydFRUTCA9IDEwMDsgLy8gMTAwbXNcblxuICAgICAgLy8gTWFrZSByZXF1ZXN0IGFuZCBjYWNoZSBpdFxuICAgICAgYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9hbGVydHMnKTtcblxuICAgICAgLy8gTW9kaWZ5IGNhY2hlIHRvIGhhdmUgc2hvcnQgVFRMXG4gICAgICBjb25zdCBjYWNoZUtleSA9ICdhbGVydHM6YWxsOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNhY2hlZERhdGEsIHNob3J0VFRMKTtcblxuICAgICAgLy8gV2FpdCBmb3IgZXhwaXJhdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHNob3J0VFRMICsgMTApKTtcblxuICAgICAgLy8gQ2FjaGUgc2hvdWxkIGJlIGV4cGlyZWRcbiAgICAgIGNvbnN0IGV4cGlyZWREYXRhID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGV4cGVjdChleHBpcmVkRGF0YSkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBWUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkJBQTJCLEVBQUUsT0FBTztFQUM1Q0MsTUFBTSxFQUFFO0lBQ05DLGtCQUFrQixFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxP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
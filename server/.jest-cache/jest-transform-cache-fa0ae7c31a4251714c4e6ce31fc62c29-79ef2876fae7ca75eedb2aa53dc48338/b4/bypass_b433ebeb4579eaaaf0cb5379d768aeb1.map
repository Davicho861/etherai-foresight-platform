{"version":3,"names":["bypass_exports","__export","bypass","module","exports","__toCommonJS","import_outvariant","require","input","init","request","Request","clone","invariant","bodyUsed","method","url","requestClone","headers","append"],"sources":["../../src/core/bypass.ts"],"sourcesContent":["import { invariant } from 'outvariant'\n\nexport type BypassRequestInput = string | URL | Request\n\n/**\n * Creates a `Request` instance that will always be ignored by MSW.\n *\n * @example\n * import { bypass } from 'msw'\n *\n * fetch(bypass('/resource'))\n * fetch(bypass(new URL('/resource', 'https://example.com)))\n * fetch(bypass(new Request('https://example.com/resource')))\n *\n * @see {@link https://mswjs.io/docs/api/bypass `bypass()` API reference}\n */\nexport function bypass(input: BypassRequestInput, init?: RequestInit): Request {\n  // Always create a new Request instance.\n  // This way, the \"init\" modifications will propagate\n  // to the bypass request instance automatically.\n  const request = new Request(\n    // If given a Request instance, clone it not to exhaust\n    // the original request's body.\n    input instanceof Request ? input.clone() : input,\n    init,\n  )\n\n  invariant(\n    !request.bodyUsed,\n    'Failed to create a bypassed request to \"%s %s\": given request instance already has its body read. Make sure to clone the intercepted request if you wish to read its body before bypassing it.',\n    request.method,\n    request.url,\n  )\n\n  const requestClone = request.clone()\n\n  /**\n   * Send the internal request header that would instruct MSW\n   * to perform this request as-is, ignoring any matching handlers.\n   * @note Use the `accept` header to support scenarios when the\n   * request cannot have headers (e.g. `sendBeacon` requests).\n   */\n  requestClone.headers.append('accept', 'msw/passthrough')\n\n  return requestClone\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,cAAA;AAAAC,QAAA,CAAAD,cAAA;EAAAE,MAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAAC,YAAA,CAAAL,cAAA;AAAA,IAAAM,iBAAA,GAA0BC,OAAA;AAgBnB,SAASL,OAAOM,KAAA,EAA2BC,IAAA,EAA6B;EAI7E,MAAMC,OAAA,GAAU,IAAIC,OAAA;EAAA;EAAA;EAGlBH,KAAA,YAAiBG,OAAA,GAAUH,KAAA,CAAMI,KAAA,CAAM,IAAIJ,KAAA,EAC3CC,IACF;EAEA,IAAAH,iBAAA,CAAAO,SAAA,EACE,CAACH,OAAA,CAAQI,QAAA,EACT,kMACAJ,OAAA,CAAQK,MAAA,EACRL,OAAA,CAAQM,GACV;EAEA,MAAMC,YAAA,GAAeP,OAAA,CAAQE,KAAA,CAAM;EAQnCK,YAAA,CAAaC,OAAA,CAAQC,MAAA,CAAO,UAAU,iBAAiB;EAEvD,OAAOF,YAAA;AACT","ignoreList":[]}
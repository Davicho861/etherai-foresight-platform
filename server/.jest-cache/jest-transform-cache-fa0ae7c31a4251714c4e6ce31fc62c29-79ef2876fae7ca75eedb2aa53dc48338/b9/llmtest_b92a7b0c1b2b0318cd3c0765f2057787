93706fc65572060350074b443625812d
"use strict";

var _llm = require("../../src/llm.js");
// Mock fetch globally
global.fetch = jest.fn();
describe('LLM Module', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('getLLM', () => {
    it('should return ChatOpenAI when OPENAI_API_KEY is set', () => {
      const originalKey = process.env.OPENAI_API_KEY;
      process.env.OPENAI_API_KEY = 'test-key';
      const llm = (0, _llm.getLLM)();
      expect(llm).toBeInstanceOf(require('@langchain/openai').ChatOpenAI);
      expect(llm.openAIApiKey).toBe('test-key');
      expect(llm.modelName).toBe('gpt-4o-mini'); // default

      process.env.OPENAI_API_KEY = originalKey;
    });
    it('should return OllamaLLM when no OPENAI_API_KEY', () => {
      const originalKey = process.env.OPENAI_API_KEY;
      delete process.env.OPENAI_API_KEY;
      const llm = (0, _llm.getLLM)();
      expect(llm).toBeInstanceOf(require('../../src/llm.js').OllamaLLM);
      expect(llm.model).toBe('llama3'); // default

      process.env.OPENAI_API_KEY = originalKey;
    });
    it('should use custom OpenAI model when specified', () => {
      const originalKey = process.env.OPENAI_API_KEY;
      const originalModel = process.env.OPENAI_MODEL;
      process.env.OPENAI_API_KEY = 'test-key';
      process.env.OPENAI_MODEL = 'gpt-4';
      const llm = (0, _llm.getLLM)();
      expect(llm.modelName).toBe('gpt-4');
      process.env.OPENAI_API_KEY = originalKey;
      process.env.OPENAI_MODEL = originalModel;
    });
  });
  describe('OllamaLLM', () => {
    let ollamaLLM;
    beforeEach(() => {
      ollamaLLM = new (require('../../src/llm.js').OllamaLLM)();
    });
    it('should call Ollama API and return response', async () => {
      const mockResponse = {
        ok: true,
        json: jest.fn().mockResolvedValue({
          output: 'Test response'
        })
      };
      fetch.mockResolvedValue(mockResponse);
      const result = await ollamaLLM.call('Test prompt');
      expect(fetch).toHaveBeenCalledWith(expect.stringContaining('ollama-mock:11434'), expect.objectContaining({
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: expect.stringContaining('Test prompt')
      }));
      expect(result).toBe('Test response');
    });
    it('should handle API errors', async () => {
      const mockResponse = {
        ok: false,
        status: 500,
        text: jest.fn().mockResolvedValue('Server error')
      };
      fetch.mockResolvedValue(mockResponse);
      await expect(ollamaLLM.call('Test prompt')).rejects.toThrow('Ollama API error 500: Server error');
    });
    it('should parse different response formats', async () => {
      const testCases = [{
        response: {
          results: [{
            content: 'Content response'
          }]
        },
        expected: 'Content response'
      }, {
        response: {
          output: 'Output response'
        },
        expected: 'Output response'
      }, {
        response: 'String response',
        expected: 'String response'
      }, {
        response: {
          other: 'data'
        },
        expected: '{"other":"data"}'
      }];
      for (const {
        response,
        expected
      } of testCases) {
        fetch.mockResolvedValue({
          ok: true,
          json: jest.fn().mockResolvedValue(response)
        });
        const result = await ollamaLLM.call('Test');
        expect(result).toBe(expected);
      }
    });
    it('should handle generate method with different message formats', async () => {
      fetch.mockResolvedValue({
        ok: true,
        json: jest.fn().mockResolvedValue({
          output: 'Generated text'
        })
      });

      // Test string input
      const result1 = await ollamaLLM.generate('Simple string');
      expect(result1.generations[0][0].text).toBe('Generated text');

      // Test array of objects with content
      const result2 = await ollamaLLM.generate([{
        content: 'Message 1'
      }, {
        content: 'Message 2'
      }]);
      expect(result2.generations[0][0].text).toBe('Generated text');

      // Test array of objects with text
      const result3 = await ollamaLLM.generate([{
        text: 'Text 1'
      }, {
        text: 'Text 2'
      }]);
      expect(result3.generations[0][0].text).toBe('Generated text');
    });
    it('should use environment variables for configuration', () => {
      const originalModel = process.env.OLLAMA_MODEL;
      const originalUrl = process.env.OLLAMA_URL;
      const originalTemp = process.env.OLLAMA_TEMPERATURE;
      const originalTokens = process.env.OLLAMA_MAX_TOKENS;
      process.env.OLLAMA_MODEL = 'custom-model';
      process.env.OLLAMA_URL = 'http://custom-url:1234/api/generate';
      process.env.OLLAMA_TEMPERATURE = '0.5';
      process.env.OLLAMA_MAX_TOKENS = '2048';
      const customLLM = new (require('../../src/llm.js').OllamaLLM)();
      expect(customLLM.model).toBe('custom-model');
      expect(customLLM.url).toBe('http://custom-url:1234/api/generate');

      // Test that env vars are used in API call
      fetch.mockResolvedValue({
        ok: true,
        json: jest.fn().mockResolvedValue({
          output: 'Response'
        })
      });
      customLLM.call('Test');
      const callBody = JSON.parse(fetch.mock.calls[0][1].body);
      expect(callBody.temperature).toBe(0.5);
      expect(callBody.max_tokens).toBe(2048);
      process.env.OLLAMA_MODEL = originalModel;
      process.env.OLLAMA_URL = originalUrl;
      process.env.OLLAMA_TEMPERATURE = originalTemp;
      process.env.OLLAMA_MAX_TOKENS = originalTokens;
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbGxtIiwicmVxdWlyZSIsImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0Iiwib3JpZ2luYWxLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJsbG0iLCJnZXRMTE0iLCJleHBlY3QiLCJ0b0JlSW5zdGFuY2VPZiIsIkNoYXRPcGVuQUkiLCJvcGVuQUlBcGlLZXkiLCJ0b0JlIiwibW9kZWxOYW1lIiwiT2xsYW1hTExNIiwibW9kZWwiLCJvcmlnaW5hbE1vZGVsIiwiT1BFTkFJX01PREVMIiwib2xsYW1hTExNIiwibW9ja1Jlc3BvbnNlIiwib2siLCJqc29uIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJvdXRwdXQiLCJyZXN1bHQiLCJjYWxsIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzdHJpbmdDb250YWluaW5nIiwib2JqZWN0Q29udGFpbmluZyIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwic3RhdHVzIiwidGV4dCIsInJlamVjdHMiLCJ0b1Rocm93IiwidGVzdENhc2VzIiwicmVzcG9uc2UiLCJyZXN1bHRzIiwiY29udGVudCIsImV4cGVjdGVkIiwib3RoZXIiLCJyZXN1bHQxIiwiZ2VuZXJhdGUiLCJnZW5lcmF0aW9ucyIsInJlc3VsdDIiLCJyZXN1bHQzIiwiT0xMQU1BX01PREVMIiwib3JpZ2luYWxVcmwiLCJPTExBTUFfVVJMIiwib3JpZ2luYWxUZW1wIiwiT0xMQU1BX1RFTVBFUkFUVVJFIiwib3JpZ2luYWxUb2tlbnMiLCJPTExBTUFfTUFYX1RPS0VOUyIsImN1c3RvbUxMTSIsInVybCIsImNhbGxCb2R5IiwiSlNPTiIsInBhcnNlIiwibW9jayIsImNhbGxzIiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIl0sInNvdXJjZXMiOlsibGxtLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0TExNIH0gZnJvbSAnLi4vLi4vc3JjL2xsbS5qcyc7XG5cbi8vIE1vY2sgZmV0Y2ggZ2xvYmFsbHlcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuZGVzY3JpYmUoJ0xMTSBNb2R1bGUnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0TExNJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIENoYXRPcGVuQUkgd2hlbiBPUEVOQUlfQVBJX0tFWSBpcyBzZXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbEtleSA9IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZO1xuICAgICAgcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgPSAndGVzdC1rZXknO1xuXG4gICAgICBjb25zdCBsbG0gPSBnZXRMTE0oKTtcblxuICAgICAgZXhwZWN0KGxsbSkudG9CZUluc3RhbmNlT2YocmVxdWlyZSgnQGxhbmdjaGFpbi9vcGVuYWknKS5DaGF0T3BlbkFJKTtcbiAgICAgIGV4cGVjdChsbG0ub3BlbkFJQXBpS2V5KS50b0JlKCd0ZXN0LWtleScpO1xuICAgICAgZXhwZWN0KGxsbS5tb2RlbE5hbWUpLnRvQmUoJ2dwdC00by1taW5pJyk7IC8vIGRlZmF1bHRcblxuICAgICAgcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgPSBvcmlnaW5hbEtleTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIE9sbGFtYUxMTSB3aGVuIG5vIE9QRU5BSV9BUElfS0VZJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxLZXkgPSBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWTtcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWTtcblxuICAgICAgY29uc3QgbGxtID0gZ2V0TExNKCk7XG5cbiAgICAgIGV4cGVjdChsbG0pLnRvQmVJbnN0YW5jZU9mKHJlcXVpcmUoJy4uLy4uL3NyYy9sbG0uanMnKS5PbGxhbWFMTE0pO1xuICAgICAgZXhwZWN0KGxsbS5tb2RlbCkudG9CZSgnbGxhbWEzJyk7IC8vIGRlZmF1bHRcblxuICAgICAgcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgPSBvcmlnaW5hbEtleTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIGN1c3RvbSBPcGVuQUkgbW9kZWwgd2hlbiBzcGVjaWZpZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbEtleSA9IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZO1xuICAgICAgY29uc3Qgb3JpZ2luYWxNb2RlbCA9IHByb2Nlc3MuZW52Lk9QRU5BSV9NT0RFTDtcbiAgICAgIHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZID0gJ3Rlc3Qta2V5JztcbiAgICAgIHByb2Nlc3MuZW52Lk9QRU5BSV9NT0RFTCA9ICdncHQtNCc7XG5cbiAgICAgIGNvbnN0IGxsbSA9IGdldExMTSgpO1xuXG4gICAgICBleHBlY3QobGxtLm1vZGVsTmFtZSkudG9CZSgnZ3B0LTQnKTtcblxuICAgICAgcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkgPSBvcmlnaW5hbEtleTtcbiAgICAgIHByb2Nlc3MuZW52Lk9QRU5BSV9NT0RFTCA9IG9yaWdpbmFsTW9kZWw7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdPbGxhbWFMTE0nLCAoKSA9PiB7XG4gICAgbGV0IG9sbGFtYUxMTTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgb2xsYW1hTExNID0gbmV3IChyZXF1aXJlKCcuLi8uLi9zcmMvbGxtLmpzJykuT2xsYW1hTExNKSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIE9sbGFtYSBBUEkgYW5kIHJldHVybiByZXNwb25zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG91dHB1dDogJ1Rlc3QgcmVzcG9uc2UnIH0pXG4gICAgICB9O1xuICAgICAgZmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Jlc3BvbnNlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb2xsYW1hTExNLmNhbGwoJ1Rlc3QgcHJvbXB0Jyk7XG5cbiAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdvbGxhbWEtbW9jazoxMTQzNCcpLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1Rlc3QgcHJvbXB0JylcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdUZXN0IHJlc3BvbnNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICB0ZXh0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ1NlcnZlciBlcnJvcicpXG4gICAgICB9O1xuICAgICAgZmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Jlc3BvbnNlKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KG9sbGFtYUxMTS5jYWxsKCdUZXN0IHByb21wdCcpKS5yZWplY3RzLnRvVGhyb3coJ09sbGFtYSBBUEkgZXJyb3IgNTAwOiBTZXJ2ZXIgZXJyb3InKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFyc2UgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgcmVzcG9uc2U6IHsgcmVzdWx0czogW3sgY29udGVudDogJ0NvbnRlbnQgcmVzcG9uc2UnIH1dIH0sIGV4cGVjdGVkOiAnQ29udGVudCByZXNwb25zZScgfSxcbiAgICAgICAgeyByZXNwb25zZTogeyBvdXRwdXQ6ICdPdXRwdXQgcmVzcG9uc2UnIH0sIGV4cGVjdGVkOiAnT3V0cHV0IHJlc3BvbnNlJyB9LFxuICAgICAgICB7IHJlc3BvbnNlOiAnU3RyaW5nIHJlc3BvbnNlJywgZXhwZWN0ZWQ6ICdTdHJpbmcgcmVzcG9uc2UnIH0sXG4gICAgICAgIHsgcmVzcG9uc2U6IHsgb3RoZXI6ICdkYXRhJyB9LCBleHBlY3RlZDogJ3tcIm90aGVyXCI6XCJkYXRhXCJ9JyB9XG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHsgcmVzcG9uc2UsIGV4cGVjdGVkIH0gb2YgdGVzdENhc2VzKSB7XG4gICAgICAgIGZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUocmVzcG9uc2UpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9sbGFtYUxMTS5jYWxsKCdUZXN0Jyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZ2VuZXJhdGUgbWV0aG9kIHdpdGggZGlmZmVyZW50IG1lc3NhZ2UgZm9ybWF0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IG91dHB1dDogJ0dlbmVyYXRlZCB0ZXh0JyB9KVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRlc3Qgc3RyaW5nIGlucHV0XG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgb2xsYW1hTExNLmdlbmVyYXRlKCdTaW1wbGUgc3RyaW5nJyk7XG4gICAgICBleHBlY3QocmVzdWx0MS5nZW5lcmF0aW9uc1swXVswXS50ZXh0KS50b0JlKCdHZW5lcmF0ZWQgdGV4dCcpO1xuXG4gICAgICAvLyBUZXN0IGFycmF5IG9mIG9iamVjdHMgd2l0aCBjb250ZW50XG4gICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgb2xsYW1hTExNLmdlbmVyYXRlKFt7IGNvbnRlbnQ6ICdNZXNzYWdlIDEnIH0sIHsgY29udGVudDogJ01lc3NhZ2UgMicgfV0pO1xuICAgICAgZXhwZWN0KHJlc3VsdDIuZ2VuZXJhdGlvbnNbMF1bMF0udGV4dCkudG9CZSgnR2VuZXJhdGVkIHRleHQnKTtcblxuICAgICAgLy8gVGVzdCBhcnJheSBvZiBvYmplY3RzIHdpdGggdGV4dFxuICAgICAgY29uc3QgcmVzdWx0MyA9IGF3YWl0IG9sbGFtYUxMTS5nZW5lcmF0ZShbeyB0ZXh0OiAnVGV4dCAxJyB9LCB7IHRleHQ6ICdUZXh0IDInIH1dKTtcbiAgICAgIGV4cGVjdChyZXN1bHQzLmdlbmVyYXRpb25zWzBdWzBdLnRleHQpLnRvQmUoJ0dlbmVyYXRlZCB0ZXh0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZm9yIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbE1vZGVsID0gcHJvY2Vzcy5lbnYuT0xMQU1BX01PREVMO1xuICAgICAgY29uc3Qgb3JpZ2luYWxVcmwgPSBwcm9jZXNzLmVudi5PTExBTUFfVVJMO1xuICAgICAgY29uc3Qgb3JpZ2luYWxUZW1wID0gcHJvY2Vzcy5lbnYuT0xMQU1BX1RFTVBFUkFUVVJFO1xuICAgICAgY29uc3Qgb3JpZ2luYWxUb2tlbnMgPSBwcm9jZXNzLmVudi5PTExBTUFfTUFYX1RPS0VOUztcblxuICAgICAgcHJvY2Vzcy5lbnYuT0xMQU1BX01PREVMID0gJ2N1c3RvbS1tb2RlbCc7XG4gICAgICBwcm9jZXNzLmVudi5PTExBTUFfVVJMID0gJ2h0dHA6Ly9jdXN0b20tdXJsOjEyMzQvYXBpL2dlbmVyYXRlJztcbiAgICAgIHByb2Nlc3MuZW52Lk9MTEFNQV9URU1QRVJBVFVSRSA9ICcwLjUnO1xuICAgICAgcHJvY2Vzcy5lbnYuT0xMQU1BX01BWF9UT0tFTlMgPSAnMjA0OCc7XG5cbiAgICAgIGNvbnN0IGN1c3RvbUxMTSA9IG5ldyAocmVxdWlyZSgnLi4vLi4vc3JjL2xsbS5qcycpLk9sbGFtYUxMTSkoKTtcblxuICAgICAgZXhwZWN0KGN1c3RvbUxMTS5tb2RlbCkudG9CZSgnY3VzdG9tLW1vZGVsJyk7XG4gICAgICBleHBlY3QoY3VzdG9tTExNLnVybCkudG9CZSgnaHR0cDovL2N1c3RvbS11cmw6MTIzNC9hcGkvZ2VuZXJhdGUnKTtcblxuICAgICAgLy8gVGVzdCB0aGF0IGVudiB2YXJzIGFyZSB1c2VkIGluIEFQSSBjYWxsXG4gICAgICBmZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBvdXRwdXQ6ICdSZXNwb25zZScgfSlcbiAgICAgIH0pO1xuXG4gICAgICBjdXN0b21MTE0uY2FsbCgnVGVzdCcpO1xuXG4gICAgICBjb25zdCBjYWxsQm9keSA9IEpTT04ucGFyc2UoZmV0Y2gubW9jay5jYWxsc1swXVsxXS5ib2R5KTtcbiAgICAgIGV4cGVjdChjYWxsQm9keS50ZW1wZXJhdHVyZSkudG9CZSgwLjUpO1xuICAgICAgZXhwZWN0KGNhbGxCb2R5Lm1heF90b2tlbnMpLnRvQmUoMjA0OCk7XG5cbiAgICAgIHByb2Nlc3MuZW52Lk9MTEFNQV9NT0RFTCA9IG9yaWdpbmFsTW9kZWw7XG4gICAgICBwcm9jZXNzLmVudi5PTExBTUFfVVJMID0gb3JpZ2luYWxVcmw7XG4gICAgICBwcm9jZXNzLmVudi5PTExBTUFfVEVNUEVSQVRVUkUgPSBvcmlnaW5hbFRlbXA7XG4gICAgICBwcm9jZXNzLmVudi5PTExBTUFfTUFYX1RPS0VOUyA9IG9yaWdpbmFsVG9rZW5zO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxJQUFBLEdBQUFDLE9BQUE7QUFFQTtBQUNBQyxNQUFNLENBQUNDLEtBQUssR0FBR0MsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztBQUV4QkMsUUFBUSxDQUFDLFlBQVksRUFBRSxNQUFNO0VBQzNCQyxVQUFVLENBQUMsTUFBTTtJQUNmSCxJQUFJLENBQUNJLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGRixRQUFRLENBQUMsUUFBUSxFQUFFLE1BQU07SUFDdkJHLEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxNQUFNO01BQzlELE1BQU1DLFdBQVcsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGNBQWM7TUFDOUNGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxjQUFjLEdBQUcsVUFBVTtNQUV2QyxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsV0FBTSxFQUFDLENBQUM7TUFFcEJDLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLENBQUNHLGNBQWMsQ0FBQ2hCLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDaUIsVUFBVSxDQUFDO01BQ25FRixNQUFNLENBQUNGLEdBQUcsQ0FBQ0ssWUFBWSxDQUFDLENBQUNDLElBQUksQ0FBQyxVQUFVLENBQUM7TUFDekNKLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDTyxTQUFTLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7O01BRTNDVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsY0FBYyxHQUFHSCxXQUFXO0lBQzFDLENBQUMsQ0FBQztJQUVGRCxFQUFFLENBQUMsZ0RBQWdELEVBQUUsTUFBTTtNQUN6RCxNQUFNQyxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsR0FB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
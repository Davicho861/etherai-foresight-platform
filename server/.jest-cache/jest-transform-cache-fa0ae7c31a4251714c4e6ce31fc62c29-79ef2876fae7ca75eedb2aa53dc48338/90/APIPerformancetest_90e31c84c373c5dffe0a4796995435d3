d104a07b0245f11431f5fcbbcfecb057
"use strict";

// Mock kernel for agent routes
_getJestObj().mock('../../src/orchestrator.js', () => ({
  kernel: {
    getVigilanceStatus: jest.fn(() => ({
      flows: {
        autoPreservation: {
          active: true,
          lastRun: new Date().toISOString()
        },
        knowledge: {
          active: true,
          lastRun: new Date().toISOString()
        },
        prophecy: {
          active: true,
          lastRun: new Date().toISOString()
        }
      },
      riskIndices: {
        'Colombia': {
          riskScore: 3.2,
          level: 'medium'
        },
        'Argentina': {
          riskScore: 2.8,
          level: 'low'
        }
      },
      activityFeed: [{
        timestamp: new Date().toISOString(),
        flow: 'prophecy',
        message: 'Risk indices updated'
      }]
    }))
  }
}));
_getJestObj().mock('../../src/eventHub.js', () => ({
  subscribe: jest.fn(() => jest.fn())
}));
function _supertest() {
  const data = _interopRequireDefault(require("supertest"));
  _supertest = function () {
    return data;
  };
  return data;
}
function _express() {
  const data = _interopRequireDefault(require("express"));
  _express = function () {
    return data;
  };
  return data;
}
var _alerts = _interopRequireDefault(require("../../src/routes/alerts.js"));
var _agent = _interopRequireDefault(require("../../src/routes/agent.js"));
var _predict = _interopRequireDefault(require("../../src/routes/predict.js"));
var _cache = _interopRequireDefault(require("../../src/cache.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * API Performance Tests for MIS-020 Backend Optimization
 * Tests caching, response times, and performance improvements
 */
const app = (0, _express().default)();
app.use(_express().default.json());
app.use('/api/alerts', _alerts.default);
app.use('/api/agent', _agent.default);
app.use('/api/predict', _predict.default);
describe('API Performance Tests - MIS-020', () => {
  beforeEach(() => {
    // Clear cache before each test
    _cache.default.clear();
  });
  describe('Alerts API Performance', () => {
    test('should cache alerts responses and serve from cache on subsequent calls', async () => {
      const startTime = Date.now();

      // First request - should compute and cache
      const response1 = await (0, _supertest().default)(app).get('/api/alerts').expect(200);
      const firstRequestTime = Date.now() - startTime;
      const startTime2 = Date.now();

      // Second request - should serve from cache
      const response2 = await (0, _supertest().default)(app).get('/api/alerts').expect(200);
      const secondRequestTime = Date.now() - startTime2;

      // Response should be identical
      expect(response1.body).toEqual(response2.body);

      // Second request should be significantly faster (cached)
      expect(secondRequestTime).toBeLessThan(firstRequestTime * 0.5);

      // Verify cache hit
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
    test('should cache filtered alerts responses', async () => {
      // Test caching with filters
      const response1 = await (0, _supertest().default)(app).get('/api/alerts?region=Colombia').expect(200);
      const response2 = await (0, _supertest().default)(app).get('/api/alerts?region=Colombia').expect(200);
      expect(response1.body).toEqual(response2.body);

      // Verify cache with specific key
      const cacheKey = 'alerts:colombia:all:all';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
    test('should handle concurrent requests efficiently', async () => {
      const promises = Array(10).fill().map(() => (0, _supertest().default)(app).get('/api/alerts'));
      const startTime = Date.now();
      const responses = await Promise.all(promises);
      const totalTime = Date.now() - startTime;

      // All responses should be successful
      responses.forEach(response => {
        expect(response.status).toBe(200);
        expect(response.body.alerts).toBeDefined();
      });

      // Concurrent requests should complete within reasonable time
      expect(totalTime).toBeLessThan(2000); // 2 seconds for 10 concurrent requests
    });
  });
  describe('Agent API Performance', () => {
    test('should cache vigilance status responses', async () => {
      const response1 = await (0, _supertest().default)(app).get('/api/agent/vigilance/status').expect(200);
      const response2 = await (0, _supertest().default)(app).get('/api/agent/vigilance/status').expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);

      // Verify cache hit
      const cacheKey = 'vigilance:status';
      const cachedData = _cache.default.get(cacheKey);
      expect(cachedData).toEqual(response1.body);
    });
  });
  describe('Prediction API Performance', () => {
    test('should cache prediction responses based on parameters', async () => {
      const predictionParams = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest().default)(app).post('/api/predict').send(predictionParams).expect(200);
      const response2 = await (0, _supertest().default)(app).post('/api/predict').send(predictionParams).expect(200);

      // Responses should be identical
      expect(response1.body).toEqual(response2.body);
      expect(response1.body.country).toBe('Colombia');
      expect(response1.body.risk).toBeDefined();
      expect(response1.body.confidence).toBeDefined();
    });
    test('should not cache different prediction parameters', async () => {
      const params1 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 25,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const params2 = {
        country: 'Colombia',
        parameters: {
          infectionRate: 30,
          protestIndex: 15,
          economicIndex: 10,
          temperature: 5
        }
      };
      const response1 = await (0, _supertest().default)(app).post('/api/predict').send(params1).expect(200);
      const response2 = await (0, _supertest().default)(app).post('/api/predict').send(params2).expect(200);

      // Responses should be different due to different parameters
      expect(response1.body.score).not.toBe(response2.body.score);
    });
  });
  describe('Cache Performance Metrics', () => {
    test('should demonstrate significant performance improvement with caching', async () => {
      // Measure time without cache (simulate by clearing cache)
      _cache.default.clear();
      const startTime1 = process.hrtime.bigint();
      await (0, _supertest().default)(app).get('/api/alerts');
      const endTime1 = process.hrtime.bigint();
      const time1 = Number(endTime1 - startTime1) / 1000000; // Convert to milliseconds

      const startTime2 = process.hrtime.bigint();
      await (0, _supertest().default)(app).get('/api/alerts'); // Should hit cache
      const endTime2 = process.hrtime.bigint();
      const time2 = Number(endTime2 - startTime2) / 1000000;

      // Cached request should be at least 50% faster
      expect(time2).toBeLessThan(time1 * 0.5);
    });
    test('should maintain cache TTL and expiration', async () => {
      // Set a short TTL for testing
      const shortTTL = 100; // 100ms

      // Make request and cache it
      await (0, _supertest().default)(app).get('/api/alerts');

      // Modify cache to have short TTL
      const cacheKey = 'alerts:all:all:all';
      const cachedData = _cache.default.get(cacheKey);
      _cache.default.set(cacheKey, cachedData, shortTTL);

      // Wait for expiration
      await new Promise(resolve => setTimeout(resolve, shortTTL + 10));

      // Cache should be expired
      const expiredData = _cache.default.get(cacheKey);
      expect(expiredData).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJrZXJuZWwiLCJnZXRWaWdpbGFuY2VTdGF0dXMiLCJqZXN0IiwiZm4iLCJmbG93cyIsImF1dG9QcmVzZXJ2YXRpb24iLCJhY3RpdmUiLCJsYXN0UnVuIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia25vd2xlZGdlIiwicHJvcGhlY3kiLCJyaXNrSW5kaWNlcyIsInJpc2tTY29yZSIsImxldmVsIiwiYWN0aXZpdHlGZWVkIiwidGltZXN0YW1wIiwiZmxvdyIsIm1lc3NhZ2UiLCJzdWJzY3JpYmUiLCJfc3VwZXJ0ZXN0IiwiZGF0YSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3MiLCJfYWxlcnRzIiwiX2FnZW50IiwiX3ByZWRpY3QiLCJfY2FjaGUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJhcHAiLCJleHByZXNzIiwidXNlIiwianNvbiIsImFsZXJ0c1JvdXRlciIsImFnZW50Um91dGVyIiwicHJlZGljdFJvdXRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNhY2hlIiwiY2xlYXIiLCJ0ZXN0Iiwic3RhcnRUaW1lIiwibm93IiwicmVzcG9uc2UxIiwicmVxdWVzdCIsImdldCIsImV4cGVjdCIsImZpcnN0UmVxdWVzdFRpbWUiLCJzdGFydFRpbWUyIiwicmVzcG9uc2UyIiwic2Vjb25kUmVxdWVzdFRpbWUiLCJib2R5IiwidG9FcXVhbCIsInRvQmVMZXNzVGhhbiIsImNhY2hlS2V5IiwiY2FjaGVkRGF0YSIsInByb21pc2VzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsInRvdGFsVGltZSIsImZvckVhY2giLCJyZXNwb25zZSIsInN0YXR1cyIsInRvQmUiLCJhbGVydHMiLCJ0b0JlRGVmaW5lZCIsInByZWRpY3Rpb25QYXJhbXMiLCJjb3VudHJ5IiwicGFyYW1ldGVycyIsImluZmVjdGlvblJhdGUiLCJwcm90ZXN0SW5kZXgiLCJlY29ub21pY0luZGV4IiwidGVtcGVyYXR1cmUiLCJwb3N0Iiwic2VuZCIsInJpc2siLCJjb25maWRlbmNlIiwicGFyYW1zMSIsInBhcmFtczIiLCJzY29yZSIsIm5vdCIsInN0YXJ0VGltZTEiLCJwcm9jZXNzIiwiaHJ0aW1lIiwiYmlnaW50IiwiZW5kVGltZTEiLCJ0aW1lMSIsIk51bWJlciIsImVuZFRpbWUyIiwidGltZTIiLCJzaG9ydFRUTCIsInNldCIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZXhwaXJlZERhdGEiLCJ0b0JlTnVsbCJdLCJzb3VyY2VzIjpbIkFQSVBlcmZvcm1hbmNlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBUEkgUGVyZm9ybWFuY2UgVGVzdHMgZm9yIE1JUy0wMjAgQmFja2VuZCBPcHRpbWl6YXRpb25cbiAqIFRlc3RzIGNhY2hpbmcsIHJlc3BvbnNlIHRpbWVzLCBhbmQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzXG4gKi9cblxuaW1wb3J0IHJlcXVlc3QgZnJvbSAnc3VwZXJ0ZXN0JztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGFsZXJ0c1JvdXRlciBmcm9tICcuLi8uLi9zcmMvcm91dGVzL2FsZXJ0cy5qcyc7XG5pbXBvcnQgYWdlbnRSb3V0ZXIgZnJvbSAnLi4vLi4vc3JjL3JvdXRlcy9hZ2VudC5qcyc7XG5pbXBvcnQgcHJlZGljdFJvdXRlciBmcm9tICcuLi8uLi9zcmMvcm91dGVzL3ByZWRpY3QuanMnO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL3NyYy9jYWNoZS5qcyc7XG5cbi8vIE1vY2sga2VybmVsIGZvciBhZ2VudCByb3V0ZXNcbmplc3QubW9jaygnLi4vLi4vc3JjL29yY2hlc3RyYXRvci5qcycsICgpID0+ICh7XG4gIGtlcm5lbDoge1xuICAgIGdldFZpZ2lsYW5jZVN0YXR1czogamVzdC5mbigoKSA9PiAoe1xuICAgICAgZmxvd3M6IHtcbiAgICAgICAgYXV0b1ByZXNlcnZhdGlvbjogeyBhY3RpdmU6IHRydWUsIGxhc3RSdW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICBrbm93bGVkZ2U6IHsgYWN0aXZlOiB0cnVlLCBsYXN0UnVuOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSxcbiAgICAgICAgcHJvcGhlY3k6IHsgYWN0aXZlOiB0cnVlLCBsYXN0UnVuOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfVxuICAgICAgfSxcbiAgICAgIHJpc2tJbmRpY2VzOiB7XG4gICAgICAgICdDb2xvbWJpYSc6IHsgcmlza1Njb3JlOiAzLjIsIGxldmVsOiAnbWVkaXVtJyB9LFxuICAgICAgICAnQXJnZW50aW5hJzogeyByaXNrU2NvcmU6IDIuOCwgbGV2ZWw6ICdsb3cnIH1cbiAgICAgIH0sXG4gICAgICBhY3Rpdml0eUZlZWQ6IFtcbiAgICAgICAgeyB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgZmxvdzogJ3Byb3BoZWN5JywgbWVzc2FnZTogJ1Jpc2sgaW5kaWNlcyB1cGRhdGVkJyB9XG4gICAgICBdXG4gICAgfSkpXG4gIH1cbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi9zcmMvZXZlbnRIdWIuanMnLCAoKSA9PiAoe1xuICBzdWJzY3JpYmU6IGplc3QuZm4oKCkgPT4gamVzdC5mbigpKVxufSkpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoJy9hcGkvYWxlcnRzJywgYWxlcnRzUm91dGVyKTtcbmFwcC51c2UoJy9hcGkvYWdlbnQnLCBhZ2VudFJvdXRlcik7XG5hcHAudXNlKCcvYXBpL3ByZWRpY3QnLCBwcmVkaWN0Um91dGVyKTtcblxuZGVzY3JpYmUoJ0FQSSBQZXJmb3JtYW5jZSBUZXN0cyAtIE1JUy0wMjAnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIENsZWFyIGNhY2hlIGJlZm9yZSBlYWNoIHRlc3RcbiAgICBjYWNoZS5jbGVhcigpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWxlcnRzIEFQSSBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgY2FjaGUgYWxlcnRzIHJlc3BvbnNlcyBhbmQgc2VydmUgZnJvbSBjYWNoZSBvbiBzdWJzZXF1ZW50IGNhbGxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gRmlyc3QgcmVxdWVzdCAtIHNob3VsZCBjb21wdXRlIGFuZCBjYWNoZVxuICAgICAgY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvYWxlcnRzJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCBmaXJzdFJlcXVlc3RUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lMiA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFNlY29uZCByZXF1ZXN0IC0gc2hvdWxkIHNlcnZlIGZyb20gY2FjaGVcbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FsZXJ0cycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3Qgc2Vjb25kUmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lMjtcblxuICAgICAgLy8gUmVzcG9uc2Ugc2hvdWxkIGJlIGlkZW50aWNhbFxuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5KS50b0VxdWFsKHJlc3BvbnNlMi5ib2R5KTtcblxuICAgICAgLy8gU2Vjb25kIHJlcXVlc3Qgc2hvdWxkIGJlIHNpZ25pZmljYW50bHkgZmFzdGVyIChjYWNoZWQpXG4gICAgICBleHBlY3Qoc2Vjb25kUmVxdWVzdFRpbWUpLnRvQmVMZXNzVGhhbihmaXJzdFJlcXVlc3RUaW1lICogMC41KTtcblxuICAgICAgLy8gVmVyaWZ5IGNhY2hlIGhpdFxuICAgICAgY29uc3QgY2FjaGVLZXkgPSAnYWxlcnRzOmFsbDphbGw6YWxsJztcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvRXF1YWwocmVzcG9uc2UxLmJvZHkpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhY2hlIGZpbHRlcmVkIGFsZXJ0cyByZXNwb25zZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUZXN0IGNhY2hpbmcgd2l0aCBmaWx0ZXJzXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hbGVydHM/cmVnaW9uPUNvbG9tYmlhJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hbGVydHM/cmVnaW9uPUNvbG9tYmlhJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FjaGUgd2l0aCBzcGVjaWZpYyBrZXlcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gJ2FsZXJ0czpjb2xvbWJpYTphbGw6YWxsJztcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvRXF1YWwocmVzcG9uc2UxLmJvZHkpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheSgxMCkuZmlsbCgpLm1hcCgoKSA9PlxuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgY29uc3QgdG90YWxUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gQWxsIHJlc3BvbnNlcyBzaG91bGQgYmUgc3VjY2Vzc2Z1bFxuICAgICAgcmVzcG9uc2VzLmZvckVhY2gocmVzcG9uc2UgPT4ge1xuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmFsZXJ0cykudG9CZURlZmluZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25jdXJyZW50IHJlcXVlc3RzIHNob3VsZCBjb21wbGV0ZSB3aXRoaW4gcmVhc29uYWJsZSB0aW1lXG4gICAgICBleHBlY3QodG90YWxUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIDIgc2Vjb25kcyBmb3IgMTAgY29uY3VycmVudCByZXF1ZXN0c1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWdlbnQgQVBJIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjYWNoZSB2aWdpbGFuY2Ugc3RhdHVzIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FnZW50L3ZpZ2lsYW5jZS9zdGF0dXMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2FnZW50L3ZpZ2lsYW5jZS9zdGF0dXMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuXG4gICAgICAvLyBWZXJpZnkgY2FjaGUgaGl0XG4gICAgICBjb25zdCBjYWNoZUtleSA9ICd2aWdpbGFuY2U6c3RhdHVzJztcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvRXF1YWwocmVzcG9uc2UxLmJvZHkpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJlZGljdGlvbiBBUEkgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNhY2hlIHByZWRpY3Rpb24gcmVzcG9uc2VzIGJhc2VkIG9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcmVkaWN0aW9uUGFyYW1zID0ge1xuICAgICAgICBjb3VudHJ5OiAnQ29sb21iaWEnLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgaW5mZWN0aW9uUmF0ZTogMjUsXG4gICAgICAgICAgcHJvdGVzdEluZGV4OiAxNSxcbiAgICAgICAgICBlY29ub21pY0luZGV4OiAxMCxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogNVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcHJlZGljdCcpXG4gICAgICAgIC5zZW5kKHByZWRpY3Rpb25QYXJhbXMpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwcmVkaWN0aW9uUGFyYW1zKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkpLnRvRXF1YWwocmVzcG9uc2UyLmJvZHkpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5LmNvdW50cnkpLnRvQmUoJ0NvbG9tYmlhJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UxLmJvZHkucmlzaykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZTEuYm9keS5jb25maWRlbmNlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG5vdCBjYWNoZSBkaWZmZXJlbnQgcHJlZGljdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zMSA9IHtcbiAgICAgICAgY291bnRyeTogJ0NvbG9tYmlhJyxcbiAgICAgICAgcGFyYW1ldGVyczogeyBpbmZlY3Rpb25SYXRlOiAyNSwgcHJvdGVzdEluZGV4OiAxNSwgZWNvbm9taWNJbmRleDogMTAsIHRlbXBlcmF0dXJlOiA1IH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBhcmFtczIgPSB7XG4gICAgICAgIGNvdW50cnk6ICdDb2xvbWJpYScsXG4gICAgICAgIHBhcmFtZXRlcnM6IHsgaW5mZWN0aW9uUmF0ZTogMzAsIHByb3Rlc3RJbmRleDogMTUsIGVjb25vbWljSW5kZXg6IDEwLCB0ZW1wZXJhdHVyZTogNSB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcHJlZGljdCcpXG4gICAgICAgIC5zZW5kKHBhcmFtczEpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3ByZWRpY3QnKVxuICAgICAgICAuc2VuZChwYXJhbXMyKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIC8vIFJlc3BvbnNlcyBzaG91bGQgYmUgZGlmZmVyZW50IGR1ZSB0byBkaWZmZXJlbnQgcGFyYW1ldGVyc1xuICAgICAgZXhwZWN0KHJlc3BvbnNlMS5ib2R5LnNjb3JlKS5ub3QudG9CZShyZXNwb25zZTIuYm9keS5zY29yZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWNoZSBQZXJmb3JtYW5jZSBNZXRyaWNzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkZW1vbnN0cmF0ZSBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCB3aXRoIGNhY2hpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNZWFzdXJlIHRpbWUgd2l0aG91dCBjYWNoZSAoc2ltdWxhdGUgYnkgY2xlYXJpbmcgY2FjaGUpXG4gICAgICBjYWNoZS5jbGVhcigpO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUxID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpO1xuICAgICAgY29uc3QgZW5kVGltZTEgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICAgIGNvbnN0IHRpbWUxID0gTnVtYmVyKGVuZFRpbWUxIC0gc3RhcnRUaW1lMSkgLyAxMDAwMDAwOyAvLyBDb252ZXJ0IHRvIG1pbGxpc2Vjb25kc1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUyID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2FsZXJ0cycpOyAvLyBTaG91bGQgaGl0IGNhY2hlXG4gICAgICBjb25zdCBlbmRUaW1lMiA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgICAgY29uc3QgdGltZTIgPSBOdW1iZXIoZW5kVGltZTIgLSBzdGFydFRpbWUyKSAvIDEwMDAwMDA7XG5cbiAgICAgIC8vIENhY2hlZCByZXF1ZXN0IHNob3VsZCBiZSBhdCBsZWFzdCA1MCUgZmFzdGVyXG4gICAgICBleHBlY3QodGltZTIpLnRvQmVMZXNzVGhhbih0aW1lMSAqIDAuNSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gY2FjaGUgVFRMIGFuZCBleHBpcmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2V0IGEgc2hvcnQgVFRMIGZvciB0ZXN0aW5nXG4gICAgICBjb25zdCBzaG9ydFRUTCA9IDEwMDsgLy8gMTAwbXNcblxuICAgICAgLy8gTWFrZSByZXF1ZXN0IGFuZCBjYWNoZSBpdFxuICAgICAgYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9hbGVydHMnKTtcblxuICAgICAgLy8gTW9kaWZ5IGNhY2hlIHRvIGhhdmUgc2hvcnQgVFRMXG4gICAgICBjb25zdCBjYWNoZUtleSA9ICdhbGVydHM6YWxsOmFsbDphbGwnO1xuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNhY2hlZERhdGEsIHNob3J0VFRMKTtcblxuICAgICAgLy8gV2FpdCBmb3IgZXhwaXJhdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHNob3J0VFRMICsgMTApKTtcblxuICAgICAgLy8gQ2FjaGUgc2hvdWxkIGJlIGV4cGlyZWRcbiAgICAgIGNvbnN0IGV4cGlyZWREYXRhID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGV4cGVjdChleHBpcmVkRGF0YSkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBWUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkJBQTJCLEVBQUUsT0FBTztFQUM1Q0MsTUFBTSxFQUFFO0lBQ05DLGtCQUFrQixFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO01BQ2pDQyxLQUFLLEVBQUU7UUFDTEMsZ0JBQWdCLEVBQUU7VUFBRUMsTUFB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
96064ff1e30a62165cff31adfd05e5e0
"use strict";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/node/index.ts
var index_exports = {};
__export(index_exports, {
  SetupServerApi: () => SetupServerApi,
  setupServer: () => setupServer
});
module.exports = __toCommonJS(index_exports);

// src/node/SetupServerApi.ts
var import_node_async_hooks = require("async_hooks");
var import_ClientRequest = require("@mswjs/interceptors/ClientRequest");
var import_XMLHttpRequest = require("@mswjs/interceptors/XMLHttpRequest");
var import_fetch = require("@mswjs/interceptors/fetch");

// src/node/SetupServerCommonApi.ts
var import_outvariant = require("outvariant");
var import_interceptors = require("@mswjs/interceptors");
var import_SetupApi = require("../core/SetupApi");
var import_handleRequest = require("../core/utils/handleRequest");
var import_mergeRight = require("../core/utils/internal/mergeRight");
var import_devUtils = require("../core/utils/internal/devUtils");
var import_handleWebSocketEvent = require("../core/ws/handleWebSocketEvent");
var import_webSocketInterceptor = require("../core/ws/webSocketInterceptor");
var import_isHandlerKind = require("../core/utils/internal/isHandlerKind");
var DEFAULT_LISTEN_OPTIONS = {
  onUnhandledRequest: "warn"
};
var SetupServerCommonApi = class extends import_SetupApi.SetupApi {
  interceptor;
  resolvedOptions;
  constructor(interceptors, handlers) {
    super(...handlers);
    this.interceptor = new import_interceptors.BatchInterceptor({
      name: "setup-server",
      interceptors
    });
    this.resolvedOptions = {};
  }
  /**
   * Subscribe to all requests that are using the interceptor object
   */
  init() {
    this.interceptor.on("request", async ({
      request,
      requestId,
      controller
    }) => {
      const response = await (0, import_handleRequest.handleRequest)(request, requestId, this.handlersController.currentHandlers().filter((0, import_isHandlerKind.isHandlerKind)("RequestHandler")), this.resolvedOptions, this.emitter, {
        onPassthroughResponse(request2) {
          const acceptHeader = request2.headers.get("accept");
          if (acceptHeader) {
            const nextAcceptHeader = acceptHeader.replace(/(,\s+)?msw\/passthrough/, "");
            if (nextAcceptHeader) {
              request2.headers.set("accept", nextAcceptHeader);
            } else {
              request2.headers.delete("accept");
            }
          }
        }
      });
      if (response) {
        controller.respondWith(response);
      }
      return;
    });
    this.interceptor.on("unhandledException", ({
      error
    }) => {
      if (error instanceof import_devUtils.InternalError) {
        throw error;
      }
    });
    this.interceptor.on("response", ({
      response,
      isMockedResponse,
      request,
      requestId
    }) => {
      this.emitter.emit(isMockedResponse ? "response:mocked" : "response:bypass", {
        response,
        request,
        requestId
      });
    });
    (0, import_handleWebSocketEvent.handleWebSocketEvent)({
      getUnhandledRequestStrategy: () => {
        return this.resolvedOptions.onUnhandledRequest;
      },
      getHandlers: () => {
        return this.handlersController.currentHandlers();
      },
      onMockedConnection: () => {},
      onPassthroughConnection: () => {}
    });
  }
  listen(options = {}) {
    this.resolvedOptions = (0, import_mergeRight.mergeRight)(DEFAULT_LISTEN_OPTIONS, options);
    this.interceptor.apply();
    this.init();
    this.subscriptions.push(() => this.interceptor.dispose());
    import_webSocketInterceptor.webSocketInterceptor.apply();
    this.subscriptions.push(() => import_webSocketInterceptor.webSocketInterceptor.dispose());
    (0, import_outvariant.invariant)([import_interceptors.InterceptorReadyState.APPLYING, import_interceptors.InterceptorReadyState.APPLIED].includes(this.interceptor.readyState), import_devUtils.devUtils.formatMessage('Failed to start "setupServer": the interceptor failed to apply. This is likely an issue with the library and you should report it at "%s".'), "https://github.com/mswjs/msw/issues/new/choose");
  }
  close() {
    this.dispose();
  }
};

// src/node/SetupServerApi.ts
var store = new import_node_async_hooks.AsyncLocalStorage();
var AsyncHandlersController = class {
  rootContext;
  constructor(initialHandlers) {
    this.rootContext = {
      initialHandlers,
      handlers: []
    };
  }
  get context() {
    return store.getStore() || this.rootContext;
  }
  prepend(runtimeHandlers) {
    this.context.handlers.unshift(...runtimeHandlers);
  }
  reset(nextHandlers) {
    const context = this.context;
    context.handlers = [];
    context.initialHandlers = nextHandlers.length > 0 ? nextHandlers : context.initialHandlers;
  }
  currentHandlers() {
    const {
      initialHandlers,
      handlers
    } = this.context;
    return handlers.concat(initialHandlers);
  }
};
var SetupServerApi = class extends SetupServerCommonApi {
  constructor(handlers, interceptors = [new import_ClientRequest.ClientRequestInterceptor(), new import_XMLHttpRequest.XMLHttpRequestInterceptor(), new import_fetch.FetchInterceptor()]) {
    super(interceptors, handlers);
    this.handlersController = new AsyncHandlersController(handlers);
  }
  boundary(callback) {
    return (...args) => {
      return store.run({
        initialHandlers: this.handlersController.currentHandlers(),
        handlers: []
      }, callback, ...args);
    };
  }
  close() {
    super.close();
    store.disable();
  }
};

// src/node/setupServer.ts
var setupServer = (...handlers) => {
  return new SetupServerApi(handlers);
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  SetupServerApi,
  setupServer
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbmRleF9leHBvcnRzIiwiX19leHBvcnQiLCJTZXR1cFNlcnZlckFwaSIsInNldHVwU2VydmVyIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fdG9Db21tb25KUyIsImltcG9ydF9ub2RlX2FzeW5jX2hvb2tzIiwicmVxdWlyZSIsImltcG9ydF9DbGllbnRSZXF1ZXN0IiwiaW1wb3J0X1hNTEh0dHBSZXF1ZXN0IiwiaW1wb3J0X2ZldGNoIiwiaW1wb3J0X291dHZhcmlhbnQiLCJpbXBvcnRfaW50ZXJjZXB0b3JzIiwiaW1wb3J0X1NldHVwQXBpIiwiaW1wb3J0X2hhbmRsZVJlcXVlc3QiLCJpbXBvcnRfbWVyZ2VSaWdodCIsImltcG9ydF9kZXZVdGlscyIsImltcG9ydF9oYW5kbGVXZWJTb2NrZXRFdmVudCIsImltcG9ydF93ZWJTb2NrZXRJbnRlcmNlcHRvciIsImltcG9ydF9pc0hhbmRsZXJLaW5kIiwiREVGQVVMVF9MSVNURU5fT1BUSU9OUyIsIm9uVW5oYW5kbGVkUmVxdWVzdCIsIlNldHVwU2VydmVyQ29tbW9uQXBpIiwiU2V0dXBBcGkiLCJpbnRlcmNlcHRvciIsInJlc29sdmVkT3B0aW9ucyIsImNvbnN0cnVjdG9yIiwiaW50ZXJjZXB0b3JzIiwiaGFuZGxlcnMiLCJCYXRjaEludGVyY2VwdG9yIiwibmFtZSIsImluaXQiLCJvbiIsInJlcXVlc3QiLCJyZXF1ZXN0SWQiLCJjb250cm9sbGVyIiwicmVzcG9uc2UiLCJoYW5kbGVSZXF1ZXN0IiwiaGFuZGxlcnNDb250cm9sbGVyIiwiY3VycmVudEhhbmRsZXJzIiwiZmlsdGVyIiwiaXNIYW5kbGVyS2luZCIsImVtaXR0ZXIiLCJvblBhc3N0aHJvdWdoUmVzcG9uc2UiLCJyZXF1ZXN0MiIsImFjY2VwdEhlYWRlciIsImhlYWRlcnMiLCJnZXQiLCJuZXh0QWNjZXB0SGVhZGVyIiwicmVwbGFjZSIsInNldCIsImRlbGV0ZSIsInJlc3BvbmRXaXRoIiwiZXJyb3IiLCJJbnRlcm5hbEVycm9yIiwiaXNNb2NrZWRSZXNwb25zZSIsImVtaXQiLCJoYW5kbGVXZWJTb2NrZXRFdmVudCIsImdldFVuaGFuZGxlZFJlcXVlc3RTdHJhdGVneSIsImdldEhhbmRsZXJzIiwib25Nb2NrZWRDb25uZWN0aW9uIiwib25QYXNzdGhyb3VnaENvbm5lY3Rpb24iLCJsaXN0ZW4iLCJvcHRpb25zIiwibWVyZ2VSaWdodCIsImFwcGx5Iiwic3Vic2NyaXB0aW9ucyIsInB1c2giLCJkaXNwb3NlIiwid2ViU29ja2V0SW50ZXJjZXB0b3IiLCJpbnZhcmlhbnQiLCJJbnRlcmNlcHRvclJlYWR5U3RhdGUiLCJBUFBMWUlORyIsIkFQUExJRUQiLCJpbmNsdWRlcyIsInJlYWR5U3RhdGUiLCJkZXZVdGlscyIsImZvcm1hdE1lc3NhZ2UiLCJjbG9zZSIsInN0b3JlIiwiQXN5bmNMb2NhbFN0b3JhZ2UiLCJBc3luY0hhbmRsZXJzQ29udHJvbGxlciIsInJvb3RDb250ZXh0IiwiaW5pdGlhbEhhbmRsZXJzIiwiY29udGV4dCIsImdldFN0b3JlIiwicHJlcGVuZCIsInJ1bnRpbWVIYW5kbGVycyIsInVuc2hpZnQiLCJyZXNldCIsIm5leHRIYW5kbGVycyIsImxlbmd0aCIsImNvbmNhdCIsIkNsaWVudFJlcXVlc3RJbnRlcmNlcHRvciIsIlhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IiLCJGZXRjaEludGVyY2VwdG9yIiwiYm91bmRhcnkiLCJjYWxsYmFjayIsImFyZ3MiLCJydW4iLCJkaXNhYmxlIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL25vZGUvaW5kZXgudHMiLCIuLi8uLi9zcmMvbm9kZS9TZXR1cFNlcnZlckFwaS50cyIsIi4uLy4uL3NyYy9ub2RlL1NldHVwU2VydmVyQ29tbW9uQXBpLnRzIiwiLi4vLi4vc3JjL25vZGUvc2V0dXBTZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgeyBTZXR1cFNlcnZlciB9IGZyb20gJy4vZ2xvc3NhcnknXG5leHBvcnQgeyBTZXR1cFNlcnZlckFwaSB9IGZyb20gJy4vU2V0dXBTZXJ2ZXJBcGknXG5leHBvcnQgeyBzZXR1cFNlcnZlciB9IGZyb20gJy4vc2V0dXBTZXJ2ZXInXG4iLCJpbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZSB9IGZyb20gJ25vZGU6YXN5bmNfaG9va3MnXG5pbXBvcnQgdHlwZSB7IEh0dHBSZXF1ZXN0RXZlbnRNYXAsIEludGVyY2VwdG9yIH0gZnJvbSAnQG1zd2pzL2ludGVyY2VwdG9ycydcbmltcG9ydCB7IENsaWVudFJlcXVlc3RJbnRlcmNlcHRvciB9IGZyb20gJ0Btc3dqcy9pbnRlcmNlcHRvcnMvQ2xpZW50UmVxdWVzdCdcbmltcG9ydCB7IFhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IgfSBmcm9tICdAbXN3anMvaW50ZXJjZXB0b3JzL1hNTEh0dHBSZXF1ZXN0J1xuaW1wb3J0IHsgRmV0Y2hJbnRlcmNlcHRvciB9IGZyb20gJ0Btc3dqcy9pbnRlcmNlcHRvcnMvZmV0Y2gnXG5pbXBvcnQgeyBIYW5kbGVyc0NvbnRyb2xsZXIgfSBmcm9tICd+L2NvcmUvU2V0dXBBcGknXG5pbXBvcnQgdHlwZSB7IFJlcXVlc3RIYW5kbGVyIH0gZnJvbSAnfi9jb3JlL2hhbmRsZXJzL1JlcXVlc3RIYW5kbGVyJ1xuaW1wb3J0IHR5cGUgeyBXZWJTb2NrZXRIYW5kbGVyIH0gZnJvbSAnfi9jb3JlL2hhbmRsZXJzL1dlYlNvY2tldEhhbmRsZXInXG5pbXBvcnQgdHlwZSB7IFNldHVwU2VydmVyIH0gZnJvbSAnLi9nbG9zc2FyeSdcbmltcG9ydCB7IFNldHVwU2VydmVyQ29tbW9uQXBpIH0gZnJvbSAnLi9TZXR1cFNlcnZlckNvbW1vbkFwaSdcblxuY29uc3Qgc3RvcmUgPSBuZXcgQXN5bmNMb2NhbFN0b3JhZ2U8UmVxdWVzdEhhbmRsZXJzQ29udGV4dD4oKVxuXG50eXBlIFJlcXVlc3RIYW5kbGVyc0NvbnRleHQgPSB7XG4gIGluaXRpYWxIYW5kbGVyczogQXJyYXk8UmVxdWVzdEhhbmRsZXIgfCBXZWJTb2NrZXRIYW5kbGVyPlxuICBoYW5kbGVyczogQXJyYXk8UmVxdWVzdEhhbmRsZXIgfCBXZWJTb2NrZXRIYW5kbGVyPlxufVxuXG4vKipcbiAqIEEgaGFuZGxlcnMgY29udHJvbGxlciB0aGF0IHV0aWxpemVzIGBBc3luY0xvY2FsU3RvcmFnZWAgaW4gTm9kZS5qc1xuICogdG8gcHJldmVudCB0aGUgcmVxdWVzdCBoYW5kbGVycyBsaXN0IGZyb20gYmVpbmcgYSBzaGFyZWQgc3RhdGVcbiAqIGFjcm9zcyBtdWx0aXBsZSB0ZXN0cy5cbiAqL1xuY2xhc3MgQXN5bmNIYW5kbGVyc0NvbnRyb2xsZXIgaW1wbGVtZW50cyBIYW5kbGVyc0NvbnRyb2xsZXIge1xuICBwcml2YXRlIHJvb3RDb250ZXh0OiBSZXF1ZXN0SGFuZGxlcnNDb250ZXh0XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbEhhbmRsZXJzOiBBcnJheTxSZXF1ZXN0SGFuZGxlciB8IFdlYlNvY2tldEhhbmRsZXI+KSB7XG4gICAgdGhpcy5yb290Q29udGV4dCA9IHsgaW5pdGlhbEhhbmRsZXJzLCBoYW5kbGVyczogW10gfVxuICB9XG5cbiAgZ2V0IGNvbnRleHQoKTogUmVxdWVzdEhhbmRsZXJzQ29udGV4dCB7XG4gICAgcmV0dXJuIHN0b3JlLmdldFN0b3JlKCkgfHwgdGhpcy5yb290Q29udGV4dFxuICB9XG5cbiAgcHVibGljIHByZXBlbmQocnVudGltZUhhbmRsZXJzOiBBcnJheTxSZXF1ZXN0SGFuZGxlciB8IFdlYlNvY2tldEhhbmRsZXI+KSB7XG4gICAgdGhpcy5jb250ZXh0LmhhbmRsZXJzLnVuc2hpZnQoLi4ucnVudGltZUhhbmRsZXJzKVxuICB9XG5cbiAgcHVibGljIHJlc2V0KG5leHRIYW5kbGVyczogQXJyYXk8UmVxdWVzdEhhbmRsZXIgfCBXZWJTb2NrZXRIYW5kbGVyPikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRcbiAgICBjb250ZXh0LmhhbmRsZXJzID0gW11cbiAgICBjb250ZXh0LmluaXRpYWxIYW5kbGVycyA9XG4gICAgICBuZXh0SGFuZGxlcnMubGVuZ3RoID4gMCA/IG5leHRIYW5kbGVycyA6IGNvbnRleHQuaW5pdGlhbEhhbmRsZXJzXG4gIH1cblxuICBwdWJsaWMgY3VycmVudEhhbmRsZXJzKCk6IEFycmF5PFJlcXVlc3RIYW5kbGVyIHwgV2ViU29ja2V0SGFuZGxlcj4ge1xuICAgIGNvbnN0IHsgaW5pdGlhbEhhbmRsZXJzLCBoYW5kbGVycyB9ID0gdGhpcy5jb250ZXh0XG4gICAgcmV0dXJuIGhhbmRsZXJzLmNvbmNhdChpbml0aWFsSGFuZGxlcnMpXG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBTZXR1cFNlcnZlckFwaVxuICBleHRlbmRzIFNldHVwU2VydmVyQ29tbW9uQXBpXG4gIGltcGxlbWVudHMgU2V0dXBTZXJ2ZXJcbntcbiAgY29uc3RydWN0b3IoXG4gICAgaGFuZGxlcnM6IEFycmF5PFJlcXVlc3RIYW5kbGVyIHwgV2ViU29ja2V0SGFuZGxlcj4sXG4gICAgaW50ZXJjZXB0b3JzOiBBcnJheTxJbnRlcmNlcHRvcjxIdHRwUmVxdWVzdEV2ZW50TWFwPj4gPSBbXG4gICAgICBuZXcgQ2xpZW50UmVxdWVzdEludGVyY2VwdG9yKCksXG4gICAgICBuZXcgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvcigpLFxuICAgICAgbmV3IEZldGNoSW50ZXJjZXB0b3IoKSxcbiAgICBdLFxuICApIHtcbiAgICBzdXBlcihpbnRlcmNlcHRvcnMsIGhhbmRsZXJzKVxuXG4gICAgdGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIgPSBuZXcgQXN5bmNIYW5kbGVyc0NvbnRyb2xsZXIoaGFuZGxlcnMpXG4gIH1cblxuICBwdWJsaWMgYm91bmRhcnk8QXJncyBleHRlbmRzIEFycmF5PGFueT4sIFI+KFxuICAgIGNhbGxiYWNrOiAoLi4uYXJnczogQXJncykgPT4gUixcbiAgKTogKC4uLmFyZ3M6IEFyZ3MpID0+IFIge1xuICAgIHJldHVybiAoLi4uYXJnczogQXJncyk6IFIgPT4ge1xuICAgICAgcmV0dXJuIHN0b3JlLnJ1bjxhbnksIGFueT4oXG4gICAgICAgIHtcbiAgICAgICAgICBpbml0aWFsSGFuZGxlcnM6IHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLmN1cnJlbnRIYW5kbGVycygpLFxuICAgICAgICAgIGhhbmRsZXJzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNsb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmNsb3NlKClcbiAgICBzdG9yZS5kaXNhYmxlKClcbiAgfVxufVxuIiwiLyoqXG4gKiBAbm90ZSBUaGlzIEFQSSBpcyBleHRlbmRlZCBieSBib3RoIFwibXN3L25vZGVcIiBhbmQgXCJtc3cvbmF0aXZlXCJcbiAqIHNvIGJlIG1pbmRpbmcgYWJvdXQgdGhlIHRoaW5ncyB5b3UgaW1wb3J0IVxuICovXG5pbXBvcnQgdHlwZSB7IFJlcXVpcmVkRGVlcCB9IGZyb20gJ3R5cGUtZmVzdCdcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ291dHZhcmlhbnQnXG5pbXBvcnQge1xuICBCYXRjaEludGVyY2VwdG9yLFxuICBJbnRlcmNlcHRvclJlYWR5U3RhdGUsXG4gIHR5cGUgSHR0cFJlcXVlc3RFdmVudE1hcCxcbiAgdHlwZSBJbnRlcmNlcHRvcixcbn0gZnJvbSAnQG1zd2pzL2ludGVyY2VwdG9ycydcbmltcG9ydCB0eXBlIHsgTGlmZUN5Y2xlRXZlbnRzTWFwLCBTaGFyZWRPcHRpb25zIH0gZnJvbSAnfi9jb3JlL3NoYXJlZE9wdGlvbnMnXG5pbXBvcnQgeyBTZXR1cEFwaSB9IGZyb20gJ34vY29yZS9TZXR1cEFwaSdcbmltcG9ydCB7IGhhbmRsZVJlcXVlc3QgfSBmcm9tICd+L2NvcmUvdXRpbHMvaGFuZGxlUmVxdWVzdCdcbmltcG9ydCB0eXBlIHsgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICd+L2NvcmUvaGFuZGxlcnMvUmVxdWVzdEhhbmRsZXInXG5pbXBvcnQgdHlwZSB7IFdlYlNvY2tldEhhbmRsZXIgfSBmcm9tICd+L2NvcmUvaGFuZGxlcnMvV2ViU29ja2V0SGFuZGxlcidcbmltcG9ydCB7IG1lcmdlUmlnaHQgfSBmcm9tICd+L2NvcmUvdXRpbHMvaW50ZXJuYWwvbWVyZ2VSaWdodCdcbmltcG9ydCB7IEludGVybmFsRXJyb3IsIGRldlV0aWxzIH0gZnJvbSAnfi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzJ1xuaW1wb3J0IHR5cGUgeyBTZXR1cFNlcnZlckNvbW1vbiB9IGZyb20gJy4vZ2xvc3NhcnknXG5pbXBvcnQgeyBoYW5kbGVXZWJTb2NrZXRFdmVudCB9IGZyb20gJ34vY29yZS93cy9oYW5kbGVXZWJTb2NrZXRFdmVudCdcbmltcG9ydCB7IHdlYlNvY2tldEludGVyY2VwdG9yIH0gZnJvbSAnfi9jb3JlL3dzL3dlYlNvY2tldEludGVyY2VwdG9yJ1xuaW1wb3J0IHsgaXNIYW5kbGVyS2luZCB9IGZyb20gJ34vY29yZS91dGlscy9pbnRlcm5hbC9pc0hhbmRsZXJLaW5kJ1xuXG5jb25zdCBERUZBVUxUX0xJU1RFTl9PUFRJT05TOiBSZXF1aXJlZERlZXA8U2hhcmVkT3B0aW9ucz4gPSB7XG4gIG9uVW5oYW5kbGVkUmVxdWVzdDogJ3dhcm4nLFxufVxuXG5leHBvcnQgY2xhc3MgU2V0dXBTZXJ2ZXJDb21tb25BcGlcbiAgZXh0ZW5kcyBTZXR1cEFwaTxMaWZlQ3ljbGVFdmVudHNNYXA+XG4gIGltcGxlbWVudHMgU2V0dXBTZXJ2ZXJDb21tb25cbntcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGludGVyY2VwdG9yOiBCYXRjaEludGVyY2VwdG9yPFxuICAgIEFycmF5PEludGVyY2VwdG9yPEh0dHBSZXF1ZXN0RXZlbnRNYXA+PixcbiAgICBIdHRwUmVxdWVzdEV2ZW50TWFwXG4gID5cbiAgcHJpdmF0ZSByZXNvbHZlZE9wdGlvbnM6IFJlcXVpcmVkRGVlcDxTaGFyZWRPcHRpb25zPlxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGludGVyY2VwdG9yczogQXJyYXk8SW50ZXJjZXB0b3I8SHR0cFJlcXVlc3RFdmVudE1hcD4+LFxuICAgIGhhbmRsZXJzOiBBcnJheTxSZXF1ZXN0SGFuZGxlciB8IFdlYlNvY2tldEhhbmRsZXI+LFxuICApIHtcbiAgICBzdXBlciguLi5oYW5kbGVycylcblxuICAgIHRoaXMuaW50ZXJjZXB0b3IgPSBuZXcgQmF0Y2hJbnRlcmNlcHRvcih7XG4gICAgICBuYW1lOiAnc2V0dXAtc2VydmVyJyxcbiAgICAgIGludGVyY2VwdG9ycyxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXNvbHZlZE9wdGlvbnMgPSB7fSBhcyBSZXF1aXJlZERlZXA8U2hhcmVkT3B0aW9ucz5cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gYWxsIHJlcXVlc3RzIHRoYXQgYXJlIHVzaW5nIHRoZSBpbnRlcmNlcHRvciBvYmplY3RcbiAgICovXG4gIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmludGVyY2VwdG9yLm9uKFxuICAgICAgJ3JlcXVlc3QnLFxuICAgICAgYXN5bmMgKHsgcmVxdWVzdCwgcmVxdWVzdElkLCBjb250cm9sbGVyIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0KFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyXG4gICAgICAgICAgICAuY3VycmVudEhhbmRsZXJzKClcbiAgICAgICAgICAgIC5maWx0ZXIoaXNIYW5kbGVyS2luZCgnUmVxdWVzdEhhbmRsZXInKSksXG4gICAgICAgICAgdGhpcy5yZXNvbHZlZE9wdGlvbnMsXG4gICAgICAgICAgdGhpcy5lbWl0dGVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9uUGFzc3Rocm91Z2hSZXNwb25zZShyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjY2VwdEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2FjY2VwdCcpXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEBub3RlIFJlbW92ZSB0aGUgaW50ZXJuYWwgYnlwYXNzIHJlcXVlc3QgaGVhZGVyLlxuICAgICAgICAgICAgICAgKiBJbiB0aGUgYnJvd3NlciwgdGhpcyBpcyBkb25lIGJ5IHRoZSB3b3JrZXIgc2NyaXB0LlxuICAgICAgICAgICAgICAgKiBJbiBOb2RlLmpzLCBpdCBoYXMgdG8gYmUgZG9uZSBoZXJlLlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgaWYgKGFjY2VwdEhlYWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRBY2NlcHRIZWFkZXIgPSBhY2NlcHRIZWFkZXIucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgIC8oLFxccyspP21zd1xcL3Bhc3N0aHJvdWdoLyxcbiAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0QWNjZXB0SGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdhY2NlcHQnLCBuZXh0QWNjZXB0SGVhZGVyKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKCdhY2NlcHQnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICApXG5cbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29udHJvbGxlci5yZXNwb25kV2l0aChyZXNwb25zZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfSxcbiAgICApXG5cbiAgICB0aGlzLmludGVyY2VwdG9yLm9uKCd1bmhhbmRsZWRFeGNlcHRpb24nLCAoeyBlcnJvciB9KSA9PiB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBJbnRlcm5hbEVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuaW50ZXJjZXB0b3Iub24oXG4gICAgICAncmVzcG9uc2UnLFxuICAgICAgKHsgcmVzcG9uc2UsIGlzTW9ja2VkUmVzcG9uc2UsIHJlcXVlc3QsIHJlcXVlc3RJZCB9KSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KFxuICAgICAgICAgIGlzTW9ja2VkUmVzcG9uc2UgPyAncmVzcG9uc2U6bW9ja2VkJyA6ICdyZXNwb25zZTpieXBhc3MnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICB9LFxuICAgICAgICApXG4gICAgICB9LFxuICAgIClcblxuICAgIC8vIFByZWNvbmZpZ3VyZSB0aGUgV2ViU29ja2V0IGludGVyY2VwdGlvbiBidXQgZG9uJ3QgZW5hYmxlIGl0IGp1c3QgeWV0LlxuICAgIC8vIEl0IHdpbGwgYmUgZW5hYmxlZCB3aGVuIHRoZSBzZXJ2ZXIgc3RhcnRzLlxuICAgIGhhbmRsZVdlYlNvY2tldEV2ZW50KHtcbiAgICAgIGdldFVuaGFuZGxlZFJlcXVlc3RTdHJhdGVneTogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlZE9wdGlvbnMub25VbmhhbmRsZWRSZXF1ZXN0XG4gICAgICB9LFxuICAgICAgZ2V0SGFuZGxlcnM6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLmN1cnJlbnRIYW5kbGVycygpXG4gICAgICB9LFxuICAgICAgb25Nb2NrZWRDb25uZWN0aW9uOiAoKSA9PiB7fSxcbiAgICAgIG9uUGFzc3Rocm91Z2hDb25uZWN0aW9uOiAoKSA9PiB7fSxcbiAgICB9KVxuICB9XG5cbiAgcHVibGljIGxpc3RlbihvcHRpb25zOiBQYXJ0aWFsPFNoYXJlZE9wdGlvbnM+ID0ge30pOiB2b2lkIHtcbiAgICB0aGlzLnJlc29sdmVkT3B0aW9ucyA9IG1lcmdlUmlnaHQoXG4gICAgICBERUZBVUxUX0xJU1RFTl9PUFRJT05TLFxuICAgICAgb3B0aW9ucyxcbiAgICApIGFzIFJlcXVpcmVkRGVlcDxTaGFyZWRPcHRpb25zPlxuXG4gICAgLy8gQXBwbHkgdGhlIGludGVyY2VwdG9yIHdoZW4gc3RhcnRpbmcgdGhlIHNlcnZlci5cbiAgICAvLyBBdHRhY2ggdGhlIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgaW50ZXJjZXB0b3IgaGVyZVxuICAgIC8vIHNvIHRoZXkgZ2V0IHJlLWF0dGFjaGVkIHdoZW5ldmVyIGAubGlzdGVuKClgIGlzIGNhbGxlZC5cbiAgICB0aGlzLmludGVyY2VwdG9yLmFwcGx5KClcbiAgICB0aGlzLmluaXQoKVxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHRoaXMuaW50ZXJjZXB0b3IuZGlzcG9zZSgpKVxuXG4gICAgLy8gQXBwbHkgdGhlIFdlYlNvY2tldCBpbnRlcmNlcHRpb24uXG4gICAgd2ViU29ja2V0SW50ZXJjZXB0b3IuYXBwbHkoKVxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHdlYlNvY2tldEludGVyY2VwdG9yLmRpc3Bvc2UoKSlcblxuICAgIC8vIEFzc2VydCB0aGF0IHRoZSBpbnRlcmNlcHRvciBoYXMgYmVlbiBhcHBsaWVkIHN1Y2Nlc3NmdWxseS5cbiAgICAvLyBBbHNvIGd1YXJkcyB1cyBmcm9tIGZvcmdldHRpbmcgdG8gY2FsbCBcImludGVyY2VwdG9yLmFwcGx5KClcIlxuICAgIC8vIGFzIGEgcGFydCBvZiB0aGUgXCJsaXN0ZW5cIiBtZXRob2QuXG4gICAgaW52YXJpYW50KFxuICAgICAgW0ludGVyY2VwdG9yUmVhZHlTdGF0ZS5BUFBMWUlORywgSW50ZXJjZXB0b3JSZWFkeVN0YXRlLkFQUExJRURdLmluY2x1ZGVzKFxuICAgICAgICB0aGlzLmludGVyY2VwdG9yLnJlYWR5U3RhdGUsXG4gICAgICApLFxuICAgICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgICAgJ0ZhaWxlZCB0byBzdGFydCBcInNldHVwU2VydmVyXCI6IHRoZSBpbnRlcmNlcHRvciBmYWlsZWQgdG8gYXBwbHkuIFRoaXMgaXMgbGlrZWx5IGFuIGlzc3VlIHdpdGggdGhlIGxpYnJhcnkgYW5kIHlvdSBzaG91bGQgcmVwb3J0IGl0IGF0IFwiJXNcIi4nLFxuICAgICAgKSxcbiAgICAgICdodHRwczovL2dpdGh1Yi5jb20vbXN3anMvbXN3L2lzc3Vlcy9uZXcvY2hvb3NlJyxcbiAgICApXG4gIH1cblxuICBwdWJsaWMgY2xvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwb3NlKClcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBSZXF1ZXN0SGFuZGxlciB9IGZyb20gJ34vY29yZS9oYW5kbGVycy9SZXF1ZXN0SGFuZGxlcidcbmltcG9ydCB0eXBlIHsgV2ViU29ja2V0SGFuZGxlciB9IGZyb20gJ34vY29yZS9oYW5kbGVycy9XZWJTb2NrZXRIYW5kbGVyJ1xuaW1wb3J0IHsgU2V0dXBTZXJ2ZXJBcGkgfSBmcm9tICcuL1NldHVwU2VydmVyQXBpJ1xuXG4vKipcbiAqIFNldHMgdXAgYSByZXF1ZXN0cyBpbnRlcmNlcHRpb24gaW4gTm9kZS5qcyB3aXRoIHRoZSBnaXZlbiByZXF1ZXN0IGhhbmRsZXJzLlxuICogQHBhcmFtIHtSZXF1ZXN0SGFuZGxlcltdfSBoYW5kbGVycyBMaXN0IG9mIHJlcXVlc3QgaGFuZGxlcnMuXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9tc3dqcy5pby9kb2NzL2FwaS9zZXR1cC1zZXJ2ZXIgYHNldHVwU2VydmVyKClgIEFQSSByZWZlcmVuY2V9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXR1cFNlcnZlciA9IChcbiAgLi4uaGFuZGxlcnM6IEFycmF5PFJlcXVlc3RIYW5kbGVyIHwgV2ViU29ja2V0SGFuZGxlcj5cbik6IFNldHVwU2VydmVyQXBpID0+IHtcbiAgcmV0dXJuIG5ldyBTZXR1cFNlcnZlckFwaShoYW5kbGVycylcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7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
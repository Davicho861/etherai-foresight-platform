770444b232d186d07500ef77e2723fb4
"use strict";

// Mock the MetatronAgent
_getJestObj().mock('../../src/agents.js');
var _communityResilienceService = require("../../src/services/communityResilienceService.js");
var _agents = _interopRequireDefault(require("../../src/agents.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('CommunityResilienceService - Expansion Tests', () => {
  let mockAgent;
  beforeEach(() => {
    jest.clearAllMocks();
    mockAgent = {
      run: jest.fn()
    };
    _agents.default.mockImplementation(() => mockAgent);
  });
  describe('getCommunityResilienceIndex - Multi-Country Analysis', () => {
    test('should handle LATAM country analysis with diverse resilience levels', async () => {
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {
          COL: {
            socialEvents: 8,
            resilienceScore: 72,
            recommendations: ['Community engagement', 'Social programs'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          },
          PER: {
            socialEvents: 12,
            resilienceScore: 65,
            recommendations: ['Education initiatives', 'Economic support'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          },
          ARG: {
            socialEvents: 5,
            resilienceScore: 78,
            recommendations: ['Infrastructure development'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          }
        },
        globalResilienceAssessment: {
          averageResilience: 71.67,
          lowResilienceCountries: ['PER'],
          assessment: 'Moderate community resilience with regional variations',
          globalRecommendations: ['Targeted interventions in Peru', 'Strengthen regional cooperation']
        },
        source: 'CommunityResilienceAgent'
      };
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['COL', 'PER', 'ARG'], 30);
      expect(result).toHaveProperty('resilienceAnalysis');
      expect(result.resilienceAnalysis).toHaveProperty('COL');
      expect(result.resilienceAnalysis).toHaveProperty('PER');
      expect(result.resilienceAnalysis).toHaveProperty('ARG');
      expect(result.globalResilienceAssessment.averageResilience).toBe(71.67);
      expect(result.globalResilienceAssessment.lowResilienceCountries).toContain('PER');
    });
    test('should analyze single country resilience in detail', async () => {
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {
          BRA: {
            socialEvents: 15,
            resilienceScore: 58,
            recommendations: ['Community programs', 'Economic development', 'Social services'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          }
        },
        globalResilienceAssessment: {
          averageResilience: 58,
          lowResilienceCountries: ['BRA'],
          assessment: 'Low community resilience requiring immediate attention',
          globalRecommendations: ['Implement comprehensive social programs', 'Monitor social indicators closely']
        },
        source: 'CommunityResilienceAgent'
      };
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['BRA'], 30);
      expect(result.resilienceAnalysis.BRA.resilienceScore).toBe(58);
      expect(result.globalResilienceAssessment.lowResilienceCountries).toContain('BRA');
      expect(result.globalResilienceAssessment.assessment).toContain('Low community resilience');
    });
    test('should handle extended time periods for trend analysis', async () => {
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {
          MEX: {
            socialEvents: 25,
            resilienceScore: 63,
            recommendations: ['Long-term community development', 'Social stability programs'],
            period: {
              startDate: '2025-07-14',
              endDate: '2025-10-13'
            },
            // 90 days
            isMock: false
          }
        },
        globalResilienceAssessment: {
          averageResilience: 63,
          lowResilienceCountries: ['MEX'],
          assessment: 'Stable but concerning resilience levels over extended period',
          globalRecommendations: ['Long-term monitoring and intervention strategies']
        },
        source: 'CommunityResilienceAgent'
      };
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['MEX'], 90);
      expect(result.resilienceAnalysis.MEX.period.startDate).toBe('2025-07-14');
      expect(result.resilienceAnalysis.MEX.socialEvents).toBe(25); // More events over longer period
    });
  });
  describe('Error Handling and Fallbacks - Expansion', () => {
    test('should provide detailed mock data when agent fails', async () => {
      mockAgent.run.mockRejectedValue(new Error('Agent unavailable'));
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['COL', 'PER'], 30);
      expect(result).toHaveProperty('resilienceAnalysis');
      expect(result).toHaveProperty('globalResilienceAssessment');
      expect(result.source).toBe('Mock data - Agent unavailable');
      expect(result.globalResilienceAssessment.averageResilience).toBe(65.0);

      // Check that mock data includes all required countries
      expect(result.resilienceAnalysis).toHaveProperty('COL');
      expect(result.resilienceAnalysis).toHaveProperty('PER');
      expect(result.resilienceAnalysis.COL.resilienceScore).toBeGreaterThanOrEqual(60);
      expect(result.resilienceAnalysis.COL.resilienceScore).toBeLessThanOrEqual(100);
    });
    test('should handle empty country list gracefully', async () => {
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {},
        globalResilienceAssessment: {
          averageResilience: 0,
          lowResilienceCountries: [],
          assessment: 'No countries specified for analysis',
          globalRecommendations: []
        },
        source: 'CommunityResilienceAgent'
      };
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)([], 30);
      expect(result.resilienceAnalysis).toEqual({});
      expect(result.globalResilienceAssessment.averageResilience).toBe(0);
    });
    test('should maintain service availability during agent failures', async () => {
      mockAgent.run.mockRejectedValue(new Error('Critical agent failure'));
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['ARG'], 30);
      expect(result).toHaveProperty('timestamp');
      expect(result).toHaveProperty('resilienceAnalysis');
      expect(result.resilienceAnalysis).toHaveProperty('ARG');
      expect(result.resilienceAnalysis.ARG).toHaveProperty('isMock', true);
      expect(result.source).toBe('Mock data - Agent unavailable');
    });
  });
  describe('Data Validation and Processing - Expansion', () => {
    test('should validate and process resilience scores within bounds', async () => {
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {
          CHL: {
            socialEvents: 3,
            resilienceScore: 85,
            recommendations: ['Maintain current programs'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          },
          ECU: {
            socialEvents: 18,
            resilienceScore: 45,
            recommendations: ['Urgent intervention needed', 'Social programs', 'Economic support'],
            period: {
              startDate: '2025-09-13',
              endDate: '2025-10-13'
            },
            isMock: false
          }
        },
        globalResilienceAssessment: {
          averageResilience: 65,
          lowResilienceCountries: ['ECU'],
          assessment: 'Mixed resilience levels across analyzed countries',
          globalRecommendations: ['Focus support on Ecuador', 'Monitor Chile stability']
        },
        source: 'CommunityResilienceAgent'
      };
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(['CHL', 'ECU'], 30);
      expect(result.resilienceAnalysis.CHL.resilienceScore).toBe(85); // High resilience
      expect(result.resilienceAnalysis.ECU.resilienceScore).toBe(45); // Low resilience
      expect(result.globalResilienceAssessment.averageResilience).toBe(65);
      expect(result.globalResilienceAssessment.lowResilienceCountries).toContain('ECU');
    });
    test('should handle large country sets efficiently', async () => {
      const countries = ['COL', 'PER', 'ARG', 'BRA', 'MEX', 'CHL', 'ECU', 'BOL', 'URY', 'PRY'];
      const mockAgentResponse = {
        timestamp: '2025-10-13T00:28:00.000Z',
        resilienceAnalysis: {},
        globalResilienceAssessment: {
          averageResilience: 70,
          lowResilienceCountries: ['BOL', 'ECU'],
          assessment: 'Regional analysis complete for LATAM countries',
          globalRecommendations: ['Regional cooperation initiatives']
        },
        source: 'CommunityResilienceAgent'
      };

      // Generate mock data for each country
      countries.forEach(country => {
        mockAgentResponse.resilienceAnalysis[country] = {
          socialEvents: Math.floor(Math.random() * 20) + 1,
          resilienceScore: Math.floor(Math.random() * 40) + 60,
          recommendations: ['Community programs'],
          period: {
            startDate: '2025-09-13',
            endDate: '2025-10-13'
          },
          isMock: false
        };
      });
      mockAgent.run.mockResolvedValue(mockAgentResponse);
      const result = await (0, _communityResilienceService.getCommunityResilienceIndex)(countries, 30);
      expect(Object.keys(result.resilienceAnalysis)).toHaveLength(10);
      countries.forEach(country => {
        expect(result.resilienceAnalysis).toHaveProperty(country);
        expect(result.resilienceAnalysis[country]).toHaveProperty('resilienceScore');
        expect(result.resilienceAnalysis[country]).toHaveProperty('socialEvents');
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfY29tbXVuaXR5UmVzaWxpZW5jZVNlcnZpY2UiLCJyZXF1aXJlIiwiX2FnZW50cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJqZXN0IiwiZGVzY3JpYmUiLCJtb2NrQWdlbnQiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInJ1biIsImZuIiwiTWV0YXRyb25BZ2VudCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInRlc3QiLCJtb2NrQWdlbnRSZXNwb25zZSIsInRpbWVzdGFtcCIsInJlc2lsaWVuY2VBbmFseXNpcyIsIkNPTCIsInNvY2lhbEV2ZW50cyIsInJlc2lsaWVuY2VTY29yZSIsInJlY29tbWVuZGF0aW9ucyIsInBlcmlvZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJpc01vY2siLCJQRVIiLCJBUkciLCJnbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudCIsImF2ZXJhZ2VSZXNpbGllbmNlIiwibG93UmVzaWxpZW5jZUNvdW50cmllcyIsImFzc2Vzc21lbnQiLCJnbG9iYWxSZWNvbW1lbmRhdGlvbnMiLCJzb3VyY2UiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInJlc3VsdCIsImdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleCIsImV4cGVjdCIsInRvSGF2ZVByb3BlcnR5IiwidG9CZSIsInRvQ29udGFpbiIsIkJSQSIsIk1FWCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsInRvRXF1YWwiLCJDSEwiLCJFQ1UiLCJjb3VudHJpZXMiLCJmb3JFYWNoIiwiY291bnRyeSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIk9iamVjdCIsImtleXMiLCJ0b0hhdmVMZW5ndGgiXSwic291cmNlcyI6WyJjb21tdW5pdHlSZXNpbGllbmNlU2VydmljZS5leHBhbnNpb24udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb21tdW5pdHlSZXNpbGllbmNlSW5kZXggfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvY29tbXVuaXR5UmVzaWxpZW5jZVNlcnZpY2UuanMnO1xuaW1wb3J0IE1ldGF0cm9uQWdlbnQgZnJvbSAnLi4vLi4vc3JjL2FnZW50cy5qcyc7XG5cbi8vIE1vY2sgdGhlIE1ldGF0cm9uQWdlbnRcbmplc3QubW9jaygnLi4vLi4vc3JjL2FnZW50cy5qcycpO1xuXG5kZXNjcmliZSgnQ29tbXVuaXR5UmVzaWxpZW5jZVNlcnZpY2UgLSBFeHBhbnNpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGxldCBtb2NrQWdlbnQ7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICBtb2NrQWdlbnQgPSB7XG4gICAgICBydW46IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgTWV0YXRyb25BZ2VudC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gbW9ja0FnZW50KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldENvbW11bml0eVJlc2lsaWVuY2VJbmRleCAtIE11bHRpLUNvdW50cnkgQW5hbHlzaXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBMQVRBTSBjb3VudHJ5IGFuYWx5c2lzIHdpdGggZGl2ZXJzZSByZXNpbGllbmNlIGxldmVscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tBZ2VudFJlc3BvbnNlID0ge1xuICAgICAgICB0aW1lc3RhbXA6ICcyMDI1LTEwLTEzVDAwOjI4OjAwLjAwMFonLFxuICAgICAgICByZXNpbGllbmNlQW5hbHlzaXM6IHtcbiAgICAgICAgICBDT0w6IHtcbiAgICAgICAgICAgIHNvY2lhbEV2ZW50czogOCxcbiAgICAgICAgICAgIHJlc2lsaWVuY2VTY29yZTogNzIsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnQ29tbXVuaXR5IGVuZ2FnZW1lbnQnLCAnU29jaWFsIHByb2dyYW1zJ10sXG4gICAgICAgICAgICBwZXJpb2Q6IHsgc3RhcnREYXRlOiAnMjAyNS0wOS0xMycsIGVuZERhdGU6ICcyMDI1LTEwLTEzJyB9LFxuICAgICAgICAgICAgaXNNb2NrOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgUEVSOiB7XG4gICAgICAgICAgICBzb2NpYWxFdmVudHM6IDEyLFxuICAgICAgICAgICAgcmVzaWxpZW5jZVNjb3JlOiA2NSxcbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogWydFZHVjYXRpb24gaW5pdGlhdGl2ZXMnLCAnRWNvbm9taWMgc3VwcG9ydCddLFxuICAgICAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZTogJzIwMjUtMDktMTMnLCBlbmREYXRlOiAnMjAyNS0xMC0xMycgfSxcbiAgICAgICAgICAgIGlzTW9jazogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIEFSRzoge1xuICAgICAgICAgICAgc29jaWFsRXZlbnRzOiA1LFxuICAgICAgICAgICAgcmVzaWxpZW5jZVNjb3JlOiA3OCxcbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogWydJbmZyYXN0cnVjdHVyZSBkZXZlbG9wbWVudCddLFxuICAgICAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZTogJzIwMjUtMDktMTMnLCBlbmREYXRlOiAnMjAyNS0xMC0xMycgfSxcbiAgICAgICAgICAgIGlzTW9jazogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdsb2JhbFJlc2lsaWVuY2VBc3Nlc3NtZW50OiB7XG4gICAgICAgICAgYXZlcmFnZVJlc2lsaWVuY2U6IDcxLjY3LFxuICAgICAgICAgIGxvd1Jlc2lsaWVuY2VDb3VudHJpZXM6IFsnUEVSJ10sXG4gICAgICAgICAgYXNzZXNzbWVudDogJ01vZGVyYXRlIGNvbW11bml0eSByZXNpbGllbmNlIHdpdGggcmVnaW9uYWwgdmFyaWF0aW9ucycsXG4gICAgICAgICAgZ2xvYmFsUmVjb21tZW5kYXRpb25zOiBbJ1RhcmdldGVkIGludGVydmVudGlvbnMgaW4gUGVydScsICdTdHJlbmd0aGVuIHJlZ2lvbmFsIGNvb3BlcmF0aW9uJ11cbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiAnQ29tbXVuaXR5UmVzaWxpZW5jZUFnZW50J1xuICAgICAgfTtcblxuICAgICAgbW9ja0FnZW50LnJ1bi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWdlbnRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChbJ0NPTCcsICdQRVInLCAnQVJHJ10sIDMwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Jlc2lsaWVuY2VBbmFseXNpcycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdDT0wnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnUEVSJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ0FSRycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudC5hdmVyYWdlUmVzaWxpZW5jZSkudG9CZSg3MS42Nyk7XG4gICAgICBleHBlY3QocmVzdWx0Lmdsb2JhbFJlc2lsaWVuY2VBc3Nlc3NtZW50Lmxvd1Jlc2lsaWVuY2VDb3VudHJpZXMpLnRvQ29udGFpbignUEVSJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYW5hbHl6ZSBzaW5nbGUgY291bnRyeSByZXNpbGllbmNlIGluIGRldGFpbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tBZ2VudFJlc3BvbnNlID0ge1xuICAgICAgICB0aW1lc3RhbXA6ICcyMDI1LTEwLTEzVDAwOjI4OjAwLjAwMFonLFxuICAgICAgICByZXNpbGllbmNlQW5hbHlzaXM6IHtcbiAgICAgICAgICBCUkE6IHtcbiAgICAgICAgICAgIHNvY2lhbEV2ZW50czogMTUsXG4gICAgICAgICAgICByZXNpbGllbmNlU2NvcmU6IDU4LFxuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbJ0NvbW11bml0eSBwcm9ncmFtcycsICdFY29ub21pYyBkZXZlbG9wbWVudCcsICdTb2NpYWwgc2VydmljZXMnXSxcbiAgICAgICAgICAgIHBlcmlvZDogeyBzdGFydERhdGU6ICcyMDI1LTA5LTEzJywgZW5kRGF0ZTogJzIwMjUtMTAtMTMnIH0sXG4gICAgICAgICAgICBpc01vY2s6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudDoge1xuICAgICAgICAgIGF2ZXJhZ2VSZXNpbGllbmNlOiA1OCxcbiAgICAgICAgICBsb3dSZXNpbGllbmNlQ291bnRyaWVzOiBbJ0JSQSddLFxuICAgICAgICAgIGFzc2Vzc21lbnQ6ICdMb3cgY29tbXVuaXR5IHJlc2lsaWVuY2UgcmVxdWlyaW5nIGltbWVkaWF0ZSBhdHRlbnRpb24nLFxuICAgICAgICAgIGdsb2JhbFJlY29tbWVuZGF0aW9uczogWydJbXBsZW1lbnQgY29tcHJlaGVuc2l2ZSBzb2NpYWwgcHJvZ3JhbXMnLCAnTW9uaXRvciBzb2NpYWwgaW5kaWNhdG9ycyBjbG9zZWx5J11cbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiAnQ29tbXVuaXR5UmVzaWxpZW5jZUFnZW50J1xuICAgICAgfTtcblxuICAgICAgbW9ja0FnZW50LnJ1bi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWdlbnRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChbJ0JSQSddLCAzMCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzLkJSQS5yZXNpbGllbmNlU2NvcmUpLnRvQmUoNTgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudC5sb3dSZXNpbGllbmNlQ291bnRyaWVzKS50b0NvbnRhaW4oJ0JSQScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudC5hc3Nlc3NtZW50KS50b0NvbnRhaW4oJ0xvdyBjb21tdW5pdHkgcmVzaWxpZW5jZScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBleHRlbmRlZCB0aW1lIHBlcmlvZHMgZm9yIHRyZW5kIGFuYWx5c2lzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FnZW50UmVzcG9uc2UgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjUtMTAtMTNUMDA6Mjg6MDAuMDAwWicsXG4gICAgICAgIHJlc2lsaWVuY2VBbmFseXNpczoge1xuICAgICAgICAgIE1FWDoge1xuICAgICAgICAgICAgc29jaWFsRXZlbnRzOiAyNSxcbiAgICAgICAgICAgIHJlc2lsaWVuY2VTY29yZTogNjMsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnTG9uZy10ZXJtIGNvbW11bml0eSBkZXZlbG9wbWVudCcsICdTb2NpYWwgc3RhYmlsaXR5IHByb2dyYW1zJ10sXG4gICAgICAgICAgICBwZXJpb2Q6IHsgc3RhcnREYXRlOiAnMjAyNS0wNy0xNCcsIGVuZERhdGU6ICcyMDI1LTEwLTEzJyB9LCAvLyA5MCBkYXlzXG4gICAgICAgICAgICBpc01vY2s6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudDoge1xuICAgICAgICAgIGF2ZXJhZ2VSZXNpbGllbmNlOiA2MyxcbiAgICAgICAgICBsb3dSZXNpbGllbmNlQ291bnRyaWVzOiBbJ01FWCddLFxuICAgICAgICAgIGFzc2Vzc21lbnQ6ICdTdGFibGUgYnV0IGNvbmNlcm5pbmcgcmVzaWxpZW5jZSBsZXZlbHMgb3ZlciBleHRlbmRlZCBwZXJpb2QnLFxuICAgICAgICAgIGdsb2JhbFJlY29tbWVuZGF0aW9uczogWydMb25nLXRlcm0gbW9uaXRvcmluZyBhbmQgaW50ZXJ2ZW50aW9uIHN0cmF0ZWdpZXMnXVxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6ICdDb21tdW5pdHlSZXNpbGllbmNlQWdlbnQnXG4gICAgICB9O1xuXG4gICAgICBtb2NrQWdlbnQucnVuLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBZ2VudFJlc3BvbnNlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0Q29tbXVuaXR5UmVzaWxpZW5jZUluZGV4KFsnTUVYJ10sIDkwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXMuTUVYLnBlcmlvZC5zdGFydERhdGUpLnRvQmUoJzIwMjUtMDctMTQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzLk1FWC5zb2NpYWxFdmVudHMpLnRvQmUoMjUpOyAvLyBNb3JlIGV2ZW50cyBvdmVyIGxvbmdlciBwZXJpb2RcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIGFuZCBGYWxsYmFja3MgLSBFeHBhbnNpb24nLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgZGV0YWlsZWQgbW9jayBkYXRhIHdoZW4gYWdlbnQgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQWdlbnQucnVuLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQWdlbnQgdW5hdmFpbGFibGUnKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChbJ0NPTCcsICdQRVInXSwgMzApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzaWxpZW5jZUFuYWx5c2lzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnZ2xvYmFsUmVzaWxpZW5jZUFzc2Vzc21lbnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc291cmNlKS50b0JlKCdNb2NrIGRhdGEgLSBBZ2VudCB1bmF2YWlsYWJsZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudC5hdmVyYWdlUmVzaWxpZW5jZSkudG9CZSg2NS4wKTtcblxuICAgICAgLy8gQ2hlY2sgdGhhdCBtb2NrIGRhdGEgaW5jbHVkZXMgYWxsIHJlcXVpcmVkIGNvdW50cmllc1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdDT0wnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgnUEVSJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcy5DT0wucmVzaWxpZW5jZVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDYwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzLkNPTC5yZXNpbGllbmNlU2NvcmUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY291bnRyeSBsaXN0IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQWdlbnRSZXNwb25zZSA9IHtcbiAgICAgICAgdGltZXN0YW1wOiAnMjAyNS0xMC0xM1QwMDoyODowMC4wMDBaJyxcbiAgICAgICAgcmVzaWxpZW5jZUFuYWx5c2lzOiB7fSxcbiAgICAgICAgZ2xvYmFsUmVzaWxpZW5jZUFzc2Vzc21lbnQ6IHtcbiAgICAgICAgICBhdmVyYWdlUmVzaWxpZW5jZTogMCxcbiAgICAgICAgICBsb3dSZXNpbGllbmNlQ291bnRyaWVzOiBbXSxcbiAgICAgICAgICBhc3Nlc3NtZW50OiAnTm8gY291bnRyaWVzIHNwZWNpZmllZCBmb3IgYW5hbHlzaXMnLFxuICAgICAgICAgIGdsb2JhbFJlY29tbWVuZGF0aW9uczogW11cbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiAnQ29tbXVuaXR5UmVzaWxpZW5jZUFnZW50J1xuICAgICAgfTtcblxuICAgICAgbW9ja0FnZW50LnJ1bi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWdlbnRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChbXSwgMzApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcykudG9FcXVhbCh7fSk7XG4gICAgICBleHBlY3QocmVzdWx0Lmdsb2JhbFJlc2lsaWVuY2VBc3Nlc3NtZW50LmF2ZXJhZ2VSZXNpbGllbmNlKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1haW50YWluIHNlcnZpY2UgYXZhaWxhYmlsaXR5IGR1cmluZyBhZ2VudCBmYWlsdXJlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBZ2VudC5ydW4ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdDcml0aWNhbCBhZ2VudCBmYWlsdXJlJykpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRDb21tdW5pdHlSZXNpbGllbmNlSW5kZXgoWydBUkcnXSwgMzApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzaWxpZW5jZUFuYWx5c2lzJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ0FSRycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXMuQVJHKS50b0hhdmVQcm9wZXJ0eSgnaXNNb2NrJywgdHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnNvdXJjZSkudG9CZSgnTW9jayBkYXRhIC0gQWdlbnQgdW5hdmFpbGFibGUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgVmFsaWRhdGlvbiBhbmQgUHJvY2Vzc2luZyAtIEV4cGFuc2lvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgYW5kIHByb2Nlc3MgcmVzaWxpZW5jZSBzY29yZXMgd2l0aGluIGJvdW5kcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tBZ2VudFJlc3BvbnNlID0ge1xuICAgICAgICB0aW1lc3RhbXA6ICcyMDI1LTEwLTEzVDAwOjI4OjAwLjAwMFonLFxuICAgICAgICByZXNpbGllbmNlQW5hbHlzaXM6IHtcbiAgICAgICAgICBDSEw6IHtcbiAgICAgICAgICAgIHNvY2lhbEV2ZW50czogMyxcbiAgICAgICAgICAgIHJlc2lsaWVuY2VTY29yZTogODUsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnTWFpbnRhaW4gY3VycmVudCBwcm9ncmFtcyddLFxuICAgICAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZTogJzIwMjUtMDktMTMnLCBlbmREYXRlOiAnMjAyNS0xMC0xMycgfSxcbiAgICAgICAgICAgIGlzTW9jazogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIEVDVToge1xuICAgICAgICAgICAgc29jaWFsRXZlbnRzOiAxOCxcbiAgICAgICAgICAgIHJlc2lsaWVuY2VTY29yZTogNDUsXG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnVXJnZW50IGludGVydmVudGlvbiBuZWVkZWQnLCAnU29jaWFsIHByb2dyYW1zJywgJ0Vjb25vbWljIHN1cHBvcnQnXSxcbiAgICAgICAgICAgIHBlcmlvZDogeyBzdGFydERhdGU6ICcyMDI1LTA5LTEzJywgZW5kRGF0ZTogJzIwMjUtMTAtMTMnIH0sXG4gICAgICAgICAgICBpc01vY2s6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudDoge1xuICAgICAgICAgIGF2ZXJhZ2VSZXNpbGllbmNlOiA2NSxcbiAgICAgICAgICBsb3dSZXNpbGllbmNlQ291bnRyaWVzOiBbJ0VDVSddLFxuICAgICAgICAgIGFzc2Vzc21lbnQ6ICdNaXhlZCByZXNpbGllbmNlIGxldmVscyBhY3Jvc3MgYW5hbHl6ZWQgY291bnRyaWVzJyxcbiAgICAgICAgICBnbG9iYWxSZWNvbW1lbmRhdGlvbnM6IFsnRm9jdXMgc3VwcG9ydCBvbiBFY3VhZG9yJywgJ01vbml0b3IgQ2hpbGUgc3RhYmlsaXR5J11cbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiAnQ29tbXVuaXR5UmVzaWxpZW5jZUFnZW50J1xuICAgICAgfTtcblxuICAgICAgbW9ja0FnZW50LnJ1bi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWdlbnRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChbJ0NITCcsICdFQ1UnXSwgMzApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcy5DSEwucmVzaWxpZW5jZVNjb3JlKS50b0JlKDg1KTsgLy8gSGlnaCByZXNpbGllbmNlXG4gICAgICBleHBlY3QocmVzdWx0LnJlc2lsaWVuY2VBbmFseXNpcy5FQ1UucmVzaWxpZW5jZVNjb3JlKS50b0JlKDQ1KTsgLy8gTG93IHJlc2lsaWVuY2VcbiAgICAgIGV4cGVjdChyZXN1bHQuZ2xvYmFsUmVzaWxpZW5jZUFzc2Vzc21lbnQuYXZlcmFnZVJlc2lsaWVuY2UpLnRvQmUoNjUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nbG9iYWxSZXNpbGllbmNlQXNzZXNzbWVudC5sb3dSZXNpbGllbmNlQ291bnRyaWVzKS50b0NvbnRhaW4oJ0VDVScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBjb3VudHJ5IHNldHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb3VudHJpZXMgPSBbJ0NPTCcsICdQRVInLCAnQVJHJywgJ0JSQScsICdNRVgnLCAnQ0hMJywgJ0VDVScsICdCT0wnLCAnVVJZJywgJ1BSWSddO1xuICAgICAgY29uc3QgbW9ja0FnZW50UmVzcG9uc2UgPSB7XG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjUtMTAtMTNUMDA6Mjg6MDAuMDAwWicsXG4gICAgICAgIHJlc2lsaWVuY2VBbmFseXNpczoge30sXG4gICAgICAgIGdsb2JhbFJlc2lsaWVuY2VBc3Nlc3NtZW50OiB7XG4gICAgICAgICAgYXZlcmFnZVJlc2lsaWVuY2U6IDcwLFxuICAgICAgICAgIGxvd1Jlc2lsaWVuY2VDb3VudHJpZXM6IFsnQk9MJywgJ0VDVSddLFxuICAgICAgICAgIGFzc2Vzc21lbnQ6ICdSZWdpb25hbCBhbmFseXNpcyBjb21wbGV0ZSBmb3IgTEFUQU0gY291bnRyaWVzJyxcbiAgICAgICAgICBnbG9iYWxSZWNvbW1lbmRhdGlvbnM6IFsnUmVnaW9uYWwgY29vcGVyYXRpb24gaW5pdGlhdGl2ZXMnXVxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6ICdDb21tdW5pdHlSZXNpbGllbmNlQWdlbnQnXG4gICAgICB9O1xuXG4gICAgICAvLyBHZW5lcmF0ZSBtb2NrIGRhdGEgZm9yIGVhY2ggY291bnRyeVxuICAgICAgY291bnRyaWVzLmZvckVhY2goY291bnRyeSA9PiB7XG4gICAgICAgIG1vY2tBZ2VudFJlc3BvbnNlLnJlc2lsaWVuY2VBbmFseXNpc1tjb3VudHJ5XSA9IHtcbiAgICAgICAgICBzb2NpYWxFdmVudHM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKSArIDEsXG4gICAgICAgICAgcmVzaWxpZW5jZVNjb3JlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkgKyA2MCxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnQ29tbXVuaXR5IHByb2dyYW1zJ10sXG4gICAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZTogJzIwMjUtMDktMTMnLCBlbmREYXRlOiAnMjAyNS0xMC0xMycgfSxcbiAgICAgICAgICBpc01vY2s6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgbW9ja0FnZW50LnJ1bi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWdlbnRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldENvbW11bml0eVJlc2lsaWVuY2VJbmRleChjb3VudHJpZXMsIDMwKTtcblxuICAgICAgZXhwZWN0KE9iamVjdC5rZXlzKHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXMpKS50b0hhdmVMZW5ndGgoMTApO1xuICAgICAgY291bnRyaWVzLmZvckVhY2goY291bnRyeSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQucmVzaWxpZW5jZUFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eShjb3VudHJ5KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXNbY291bnRyeV0pLnRvSGF2ZVByb3BlcnR5KCdyZXNpbGllbmNlU2NvcmUnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXNpbGllbmNlQW5hbHlzaXNbY291bnRyeV0pLnRvSGF2ZVByb3BlcnR5KCdzb2NpYWxFdmVudHMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFHQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztBQUpoQyxJQUFBQywyQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQWdELFNBQUFFLHVCQUFBQyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsU0FBQU4sWUFBQTtFQUFBO0lBQUFTO0VBQUEsSUFBQU4s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
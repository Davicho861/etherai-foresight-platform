{"version":3,"names":["_server","require","_supertest","_interopRequireDefault","_express","_seismic","e","__esModule","default","describe","app","beforeAll","server","listen","afterAll","close","beforeEach","express","use","json","seismicRouter","it","response","request","get","expect","status","toBe","Array","isArray","body","toHaveLength","toMatchObject","id","place","any","String","magnitude","Number","riskScore","overallRisk","eventCount","maxMagnitude","highRiskZones"],"sources":["seismic.test.js"],"sourcesContent":["import { server } from '../mocks/server.js';\nimport request from 'supertest';\nimport express from 'express';\nimport seismicRouter from '../../src/routes/seismic.js';\n\ndescribe('Seismic Routes', () => {\n  let app;\n\n  beforeAll(() => {\n    server.listen();\n  });\n\n  afterAll(() => {\n    server.close();\n  });\n\n  beforeEach(() => {\n    // Create express app with the router\n    app = express();\n    app.use(express.json());\n    app.use('/api/seismic', seismicRouter);\n  });\n\n  describe('GET /api/seismic/activity', () => {\n    it('should return processed seismic activity with risk scores', async () => {\n      const response = await request(app).get('/api/seismic/activity');\n\n      expect(response.status).toBe(200);\n      expect(Array.isArray(response.body)).toBe(true);\n      expect(response.body).toHaveLength(1);\n      expect(response.body[0]).toMatchObject({\n        id: 'test1',\n        place: expect.any(String),\n        magnitude: expect.any(Number),\n        riskScore: expect.any(Number),\n      });\n    });\n  });\n\n  describe('GET /api/seismic/risk', () => {\n    it('should return geophysical risk prediction', async () => {\n      const response = await request(app).get('/api/seismic/risk');\n\n      expect(response.status).toBe(200);\n      expect(response.body).toMatchObject({\n        overallRisk: expect.any(Number),\n        eventCount: 1,\n        maxMagnitude: 6.0,\n        highRiskZones: expect.any(Array),\n      });\n    });\n\n    it('should handle no seismic events', async () => {\n      const response = await request(app).get('/api/seismic/risk');\n\n      expect(response.status).toBe(200);\n      expect(typeof response.body.overallRisk).toBe('number');\n      expect(typeof response.body.eventCount).toBe('number');\n    });\n  });\n});"],"mappings":"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","ignoreList":[]}
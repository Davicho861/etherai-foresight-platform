58f06ad997abaa6e3b46d3bb2c769379
"use strict";

var __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _FormData_instances, _FormData_entries, _FormData_setEntry;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormData = void 0;
const util_1 = require("util");
const File_1 = require("./File");
const isFile_1 = require("./isFile");
const isBlob_1 = require("./isBlob");
const isFunction_1 = require("./isFunction");
const deprecateConstructorEntries_1 = require("./deprecateConstructorEntries");
class FormData {
  constructor(entries) {
    _FormData_instances.add(this);
    _FormData_entries.set(this, new Map());
    if (entries) {
      (0, deprecateConstructorEntries_1.deprecateConstructorEntries)();
      entries.forEach(({
        name,
        value,
        fileName
      }) => this.append(name, value, fileName));
    }
  }
  static [(_FormData_entries = new WeakMap(), _FormData_instances = new WeakSet(), Symbol.hasInstance)](value) {
    return Boolean(value && (0, isFunction_1.isFunction)(value.constructor) && value[Symbol.toStringTag] === "FormData" && (0, isFunction_1.isFunction)(value.append) && (0, isFunction_1.isFunction)(value.set) && (0, isFunction_1.isFunction)(value.get) && (0, isFunction_1.isFunction)(value.getAll) && (0, isFunction_1.isFunction)(value.has) && (0, isFunction_1.isFunction)(value.delete) && (0, isFunction_1.isFunction)(value.entries) && (0, isFunction_1.isFunction)(value.values) && (0, isFunction_1.isFunction)(value.keys) && (0, isFunction_1.isFunction)(value[Symbol.iterator]) && (0, isFunction_1.isFunction)(value.forEach));
  }
  append(name, value, fileName) {
    __classPrivateFieldGet(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: true,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  set(name, value, fileName) {
    __classPrivateFieldGet(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: false,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  get(name) {
    const field = __classPrivateFieldGet(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return null;
    }
    return field[0];
  }
  getAll(name) {
    const field = __classPrivateFieldGet(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return [];
    }
    return field.slice();
  }
  has(name) {
    return __classPrivateFieldGet(this, _FormData_entries, "f").has(String(name));
  }
  delete(name) {
    __classPrivateFieldGet(this, _FormData_entries, "f").delete(String(name));
  }
  *keys() {
    for (const key of __classPrivateFieldGet(this, _FormData_entries, "f").keys()) {
      yield key;
    }
  }
  *entries() {
    for (const name of this.keys()) {
      const values = this.getAll(name);
      for (const value of values) {
        yield [name, value];
      }
    }
  }
  *values() {
    for (const [, value] of this) {
      yield value;
    }
  }
  [(_FormData_setEntry = function _FormData_setEntry({
    name,
    rawValue,
    append,
    fileName,
    argsLength
  }) {
    const methodName = append ? "append" : "set";
    if (argsLength < 2) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': ` + `2 arguments required, but only ${argsLength} present.`);
    }
    name = String(name);
    let value;
    if ((0, isFile_1.isFile)(rawValue)) {
      value = fileName === undefined ? rawValue : new File_1.File([rawValue], fileName, {
        type: rawValue.type,
        lastModified: rawValue.lastModified
      });
    } else if ((0, isBlob_1.isBlob)(rawValue)) {
      value = new File_1.File([rawValue], fileName === undefined ? "blob" : fileName, {
        type: rawValue.type
      });
    } else if (fileName) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': ` + "parameter 2 is not of type 'Blob'.");
    } else {
      value = String(rawValue);
    }
    const values = __classPrivateFieldGet(this, _FormData_entries, "f").get(name);
    if (!values) {
      return void __classPrivateFieldGet(this, _FormData_entries, "f").set(name, [value]);
    }
    if (!append) {
      return void __classPrivateFieldGet(this, _FormData_entries, "f").set(name, [value]);
    }
    values.push(value);
  }, Symbol.iterator)]() {
    return this.entries();
  }
  forEach(callback, thisArg) {
    for (const [name, value] of this) {
      callback.call(thisArg, value, name, this);
    }
  }
  get [Symbol.toStringTag]() {
    return "FormData";
  }
  [util_1.inspect.custom]() {
    return this[Symbol.toStringTag];
  }
}
exports.FormData = FormData;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInZhbHVlIiwiZ2V0IiwiX0Zvcm1EYXRhX2luc3RhbmNlcyIsIl9Gb3JtRGF0YV9lbnRyaWVzIiwiX0Zvcm1EYXRhX3NldEVudHJ5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiRm9ybURhdGEiLCJ1dGlsXzEiLCJyZXF1aXJlIiwiRmlsZV8xIiwiaXNGaWxlXzEiLCJpc0Jsb2JfMSIsImlzRnVuY3Rpb25fMSIsImRlcHJlY2F0ZUNvbnN0cnVjdG9yRW50cmllc18xIiwiY29uc3RydWN0b3IiLCJlbnRyaWVzIiwiYWRkIiwic2V0IiwiTWFwIiwiZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzIiwiZm9yRWFjaCIsIm5hbWUiLCJmaWxlTmFtZSIsImFwcGVuZCIsIldlYWtNYXAiLCJXZWFrU2V0IiwiU3ltYm9sIiwiaGFzSW5zdGFuY2UiLCJCb29sZWFuIiwiaXNGdW5jdGlvbiIsInRvU3RyaW5nVGFnIiwiZ2V0QWxsIiwiZGVsZXRlIiwidmFsdWVzIiwia2V5cyIsIml0ZXJhdG9yIiwicmF3VmFsdWUiLCJhcmdzTGVuZ3RoIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZmllbGQiLCJTdHJpbmciLCJzbGljZSIsImtleSIsIm1ldGhvZE5hbWUiLCJpc0ZpbGUiLCJ1bmRlZmluZWQiLCJGaWxlIiwidHlwZSIsImxhc3RNb2RpZmllZCIsImlzQmxvYiIsInB1c2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJpbnNwZWN0IiwiY3VzdG9tIl0sInNvdXJjZXMiOlsiRm9ybURhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRm9ybURhdGFfaW5zdGFuY2VzLCBfRm9ybURhdGFfZW50cmllcywgX0Zvcm1EYXRhX3NldEVudHJ5O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Gb3JtRGF0YSA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgRmlsZV8xID0gcmVxdWlyZShcIi4vRmlsZVwiKTtcbmNvbnN0IGlzRmlsZV8xID0gcmVxdWlyZShcIi4vaXNGaWxlXCIpO1xuY29uc3QgaXNCbG9iXzEgPSByZXF1aXJlKFwiLi9pc0Jsb2JcIik7XG5jb25zdCBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuY29uc3QgZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzXzEgPSByZXF1aXJlKFwiLi9kZXByZWNhdGVDb25zdHJ1Y3RvckVudHJpZXNcIik7XG5jbGFzcyBGb3JtRGF0YSB7XG4gICAgY29uc3RydWN0b3IoZW50cmllcykge1xuICAgICAgICBfRm9ybURhdGFfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0Zvcm1EYXRhX2VudHJpZXMuc2V0KHRoaXMsIG5ldyBNYXAoKSk7XG4gICAgICAgIGlmIChlbnRyaWVzKSB7XG4gICAgICAgICAgICAoMCwgZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzXzEuZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzKSgpO1xuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBmaWxlTmFtZSB9KSA9PiB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgWyhfRm9ybURhdGFfZW50cmllcyA9IG5ldyBXZWFrTWFwKCksIF9Gb3JtRGF0YV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBTeW1ib2wuaGFzSW5zdGFuY2UpXSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih2YWx1ZVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICYmIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IFwiRm9ybURhdGFcIlxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5hcHBlbmQpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLnNldClcbiAgICAgICAgICAgICYmICgwLCBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbikodmFsdWUuZ2V0KVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5nZXRBbGwpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmhhcylcbiAgICAgICAgICAgICYmICgwLCBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbikodmFsdWUuZGVsZXRlKVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5lbnRyaWVzKVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS52YWx1ZXMpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmtleXMpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmZvckVhY2gpKTtcbiAgICB9XG4gICAgYXBwZW5kKG5hbWUsIHZhbHVlLCBmaWxlTmFtZSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9pbnN0YW5jZXMsIFwibVwiLCBfRm9ybURhdGFfc2V0RW50cnkpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgYXBwZW5kOiB0cnVlLFxuICAgICAgICAgICAgcmF3VmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgYXJnc0xlbmd0aDogYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0KG5hbWUsIHZhbHVlLCBmaWxlTmFtZSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9pbnN0YW5jZXMsIFwibVwiLCBfRm9ybURhdGFfc2V0RW50cnkpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgYXBwZW5kOiBmYWxzZSxcbiAgICAgICAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGg6IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmdldChTdHJpbmcobmFtZSkpO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGRbMF07XG4gICAgfVxuICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmdldChTdHJpbmcobmFtZSkpO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkLnNsaWNlKCk7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikuaGFzKFN0cmluZyhuYW1lKSk7XG4gICAgfVxuICAgIGRlbGV0ZShuYW1lKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5kZWxldGUoU3RyaW5nKG5hbWUpKTtcbiAgICB9XG4gICAgKmtleXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5rZXlzKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqZW50cmllcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmdldEFsbChuYW1lKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW25hbWUsIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiB0aGlzKSB7XG4gICAgICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbKF9Gb3JtRGF0YV9zZXRFbnRyeSA9IGZ1bmN0aW9uIF9Gb3JtRGF0YV9zZXRFbnRyeSh7IG5hbWUsIHJhd1ZhbHVlLCBhcHBlbmQsIGZpbGVOYW1lLCBhcmdzTGVuZ3RoIH0pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGFwcGVuZCA/IFwiYXBwZW5kXCIgOiBcInNldFwiO1xuICAgICAgICBpZiAoYXJnc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEZhaWxlZCB0byBleGVjdXRlICcke21ldGhvZE5hbWV9JyBvbiAnRm9ybURhdGEnOiBgXG4gICAgICAgICAgICAgICAgKyBgMiBhcmd1bWVudHMgcmVxdWlyZWQsIGJ1dCBvbmx5ICR7YXJnc0xlbmd0aH0gcHJlc2VudC5gKTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGlmICgoMCwgaXNGaWxlXzEuaXNGaWxlKShyYXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZmlsZU5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gcmF3VmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBGaWxlXzEuRmlsZShbcmF3VmFsdWVdLCBmaWxlTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiByYXdWYWx1ZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHJhd1ZhbHVlLmxhc3RNb2RpZmllZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgwLCBpc0Jsb2JfMS5pc0Jsb2IpKHJhd1ZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgRmlsZV8xLkZpbGUoW3Jhd1ZhbHVlXSwgZmlsZU5hbWUgPT09IHVuZGVmaW5lZCA/IFwiYmxvYlwiIDogZmlsZU5hbWUsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiByYXdWYWx1ZS50eXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgJyR7bWV0aG9kTmFtZX0nIG9uICdGb3JtRGF0YSc6IGBcbiAgICAgICAgICAgICAgICArIFwicGFyYW1ldGVyIDIgaXMgbm90IG9mIHR5cGUgJ0Jsb2InLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gU3RyaW5nKHJhd1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHZvaWQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLnNldChuYW1lLCBbdmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFwcGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZvaWQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLnNldChuYW1lLCBbdmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfSwgU3ltYm9sLml0ZXJhdG9yKV0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgdGhpcykge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgICByZXR1cm4gXCJGb3JtRGF0YVwiO1xuICAgIH1cbiAgICBbdXRpbF8xLmluc3BlY3QuY3VzdG9tXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXTtcbiAgICB9XG59XG5leHBvcnRzLkZvcm1EYXRhID0gRm9ybURhdGE7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osSUFBSUEsc0JBQXNCLEdBQUksSUFBSSxJQUFJLElBQUksQ0FBQ0Esc0JBQXNCLElBQUssVUFBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQyxFQUFFO0VBQ3RHLElBQUlELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQ0MsQ0FBQyxFQUFFLE1BQU0sSUFBSUMsU0FBUyxDQUFDLCtDQUErQyxDQUFDO0VBQzVGLElBQUksT0FBT0gsS0FBSyxLQUFLLFVBQVUsR0FBR0QsUUFBUSxLQUFLQyxLQUFLLElBQUksQ0FBQ0UsQ0FBQyxHQUFHLENBQUNGLEtBQUssQ0FBQ0ksR0FBRyxDQUFDTCxRQUFRLENBQUMsRUFBRSxNQUFNLElBQUlJLFNBQVMsQ0FBQywwRUFBMEUsQ0FBQztFQUNsTCxPQUFPRixJQUFJLEtBQUssR0FBRyxHQUFHQyxDQUFDLEdBQUdELElBQUksS0FBSyxHQUFHLEdBQUdDLENBQUMsQ0FBQ0csSUFBSSxD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QUFRLENBQUNZO01BQ25CLENBQUMsQ0FBQztJQUNOLENBQUMsTUFDSSxJQUFJMUIsUUFBUSxFQUFFO01BQ2YsTUFBTSxJQUFJM0IsU0FBUyxDQUFDLHNCQUFzQmlELFVBQVUsbUJBQW1CLEdBQ2pFLG9DQUFvQyxDQUFDO0lBQy9DLENBQUMsTUFDSTtNQUNEOUMsS0FBSyxHQUFHMkMsTUFBTSxDQUFDTCxRQUFRLENBQUM7SUFDNUI7SUFDQSxNQUFNSCxNQUFNLEdBQUczQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUVXLGlCQUFpQixFQUFFLEdBQUcsQ0FBQyxDQUFDRixHQUFHLENBQUNzQixJQUFJLENBQUM7SUFDN0UsSUFBSSxDQUFDWSxNQUFNLEVBQUU7TUFDVCxPQUFPLEtBQUszQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUVXLGlCQUFpQixFQUFFLEdBQUcsQ0FBQyxDQUFDZ0IsR0FBRyxDQUFDSSxJQUFJLEVBQUUsQ0FBQ3ZCLEtBQUssQ0FBQyxDQUFDO0lBQ3ZGO0lBQ0EsSUFBSSxDQUFDeUIsTUFBTSxFQUFFO01BQ1QsT0FBTyxLQUFLakMsc0JBQXNCLENBQUMsSUFBSSxFQUFFVyxpQkFBaUIsRUFBRSxHQUFHLENBQUMsQ0FBQ2dCLEdBQUcsQ0FBQ0ksSUFBSSxFQUFFLENBQUN2QixLQUFLLENBQUMsQ0FBQztJQUN2RjtJQUNBbUMsTUFBTSxDQUFDa0IsSUFBSSxDQUFDckQsS0FBSyxDQUFDO0VBQ3RCLENBQUMsRUFBRTRCLE1BQU0sQ0FBQ1MsUUFBUSxLQUFLO0lBQ25CLE9BQU8sSUFBSSxDQUFDcEIsT0FBTyxDQUFDLENBQUM7RUFDekI7RUFDQUssT0FBT0EsQ0FBQ2dDLFFBQVEsRUFBRUMsT0FBTyxFQUFFO0lBQ3ZCLEtBQUssTUFBTSxDQUFDaEMsSUFBSSxFQUFFdkIsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFO01BQzlCc0QsUUFBUSxDQUFDdkQsSUFBSSxDQUFDd0QsT0FBTyxFQUFFdkQsS0FBSyxFQUFFdUIsSUFBSSxFQUFFLElBQUksQ0FBQztJQUM3QztFQUNKO0VBQ0EsS0FBS0ssTUFBTSxDQUFDSSxXQUFXLElBQUk7SUFDdkIsT0FBTyxVQUFVO0VBQ3JCO0VBQ0EsQ0FBQ3ZCLE1BQU0sQ0FBQytDLE9BQU8sQ0FBQ0MsTUFBTSxJQUFJO0lBQ3RCLE9BQU8sSUFBSSxDQUFDN0IsTUFBTSxDQUFDSSxXQUFXLENBQUM7RUFDbkM7QUFDSjtBQUNBekIsT0FBTyxDQUFDQyxRQUFRLEdBQUdBLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=
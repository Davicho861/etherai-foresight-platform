4e54eebe8a8e443733b03ac528e7ee9e
"use strict";

var __classPrivateFieldGet = void 0 && (void 0).__classPrivateFieldGet || function (receiver, state, kind, f) {
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _FormData_instances, _FormData_entries, _FormData_setEntry;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormData = void 0;
const util_1 = require("util");
const File_1 = require("./File");
const isFile_1 = require("./isFile");
const isBlob_1 = require("./isBlob");
const isFunction_1 = require("./isFunction");
const deprecateConstructorEntries_1 = require("./deprecateConstructorEntries");
class FormData {
  constructor(entries) {
    _FormData_instances.add(this);
    _FormData_entries.set(this, new Map());
    if (entries) {
      (0, deprecateConstructorEntries_1.deprecateConstructorEntries)();
      entries.forEach(({
        name,
        value,
        fileName
      }) => this.append(name, value, fileName));
    }
  }
  static [(_FormData_entries = new WeakMap(), _FormData_instances = new WeakSet(), Symbol.hasInstance)](value) {
    return Boolean(value && (0, isFunction_1.isFunction)(value.constructor) && value[Symbol.toStringTag] === "FormData" && (0, isFunction_1.isFunction)(value.append) && (0, isFunction_1.isFunction)(value.set) && (0, isFunction_1.isFunction)(value.get) && (0, isFunction_1.isFunction)(value.getAll) && (0, isFunction_1.isFunction)(value.has) && (0, isFunction_1.isFunction)(value.delete) && (0, isFunction_1.isFunction)(value.entries) && (0, isFunction_1.isFunction)(value.values) && (0, isFunction_1.isFunction)(value.keys) && (0, isFunction_1.isFunction)(value[Symbol.iterator]) && (0, isFunction_1.isFunction)(value.forEach));
  }
  append(name, value, fileName) {
    __classPrivateFieldGet(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: true,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  set(name, value, fileName) {
    __classPrivateFieldGet(this, _FormData_instances, "m", _FormData_setEntry).call(this, {
      name,
      fileName,
      append: false,
      rawValue: value,
      argsLength: arguments.length
    });
  }
  get(name) {
    const field = __classPrivateFieldGet(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return null;
    }
    return field[0];
  }
  getAll(name) {
    const field = __classPrivateFieldGet(this, _FormData_entries, "f").get(String(name));
    if (!field) {
      return [];
    }
    return field.slice();
  }
  has(name) {
    return __classPrivateFieldGet(this, _FormData_entries, "f").has(String(name));
  }
  delete(name) {
    __classPrivateFieldGet(this, _FormData_entries, "f").delete(String(name));
  }
  *keys() {
    for (const key of __classPrivateFieldGet(this, _FormData_entries, "f").keys()) {
      yield key;
    }
  }
  *entries() {
    for (const name of this.keys()) {
      const values = this.getAll(name);
      for (const value of values) {
        yield [name, value];
      }
    }
  }
  *values() {
    for (const [, value] of this) {
      yield value;
    }
  }
  [(_FormData_setEntry = function _FormData_setEntry({
    name,
    rawValue,
    append,
    fileName,
    argsLength
  }) {
    const methodName = append ? "append" : "set";
    if (argsLength < 2) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': ` + `2 arguments required, but only ${argsLength} present.`);
    }
    name = String(name);
    let value;
    if ((0, isFile_1.isFile)(rawValue)) {
      value = fileName === undefined ? rawValue : new File_1.File([rawValue], fileName, {
        type: rawValue.type,
        lastModified: rawValue.lastModified
      });
    } else if ((0, isBlob_1.isBlob)(rawValue)) {
      value = new File_1.File([rawValue], fileName === undefined ? "blob" : fileName, {
        type: rawValue.type
      });
    } else if (fileName) {
      throw new TypeError(`Failed to execute '${methodName}' on 'FormData': ` + "parameter 2 is not of type 'Blob'.");
    } else {
      value = String(rawValue);
    }
    const values = __classPrivateFieldGet(this, _FormData_entries, "f").get(name);
    if (!values) {
      return void __classPrivateFieldGet(this, _FormData_entries, "f").set(name, [value]);
    }
    if (!append) {
      return void __classPrivateFieldGet(this, _FormData_entries, "f").set(name, [value]);
    }
    values.push(value);
  }, Symbol.iterator)]() {
    return this.entries();
  }
  forEach(callback, thisArg) {
    for (const [name, value] of this) {
      callback.call(thisArg, value, name, this);
    }
  }
  get [Symbol.toStringTag]() {
    return "FormData";
  }
  [util_1.inspect.custom]() {
    return this[Symbol.toStringTag];
  }
}
exports.FormData = FormData;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInZhbHVlIiwiZ2V0IiwiX0Zvcm1EYXRhX2luc3RhbmNlcyIsIl9Gb3JtRGF0YV9lbnRyaWVzIiwiX0Zvcm1EYXRhX3NldEVudHJ5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiRm9ybURhdGEiLCJ1dGlsXzEiLCJyZXF1aXJlIiwiRmlsZV8xIiwiaXNGaWxlXzEiLCJpc0Jsb2JfMSIsImlzRnVuY3Rpb25fMSIsImRlcHJlY2F0ZUNvbnN0cnVjdG9yRW50cmllc18xIiwiY29uc3RydWN0b3IiLCJlbnRyaWVzIiwiYWRkIiwic2V0IiwiTWFwIiwiZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzIiwiZm9yRWFjaCIsIm5hbWUiLCJmaWxlTmFtZSIsImFwcGVuZCIsIldlYWtNYXAiLCJXZWFrU2V0IiwiU3ltYm9sIiwiaGFzSW5zdGFuY2UiLCJCb29sZWFuIiwiaXNGdW5jdGlvbiIsInRvU3RyaW5nVGFnIiwiZ2V0QWxsIiwiZGVsZXRlIiwidmFsdWVzIiwia2V5cyIsIml0ZXJhdG9yIiwicmF3VmFsdWUiLCJhcmdzTGVuZ3RoIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZmllbGQiLCJTdHJpbmciLCJzbGljZSIsImtleSIsIm1ldGhvZE5hbWUiLCJpc0ZpbGUiLCJ1bmRlZmluZWQiLCJGaWxlIiwidHlwZSIsImxhc3RNb2RpZmllZCIsImlzQmxvYiIsInB1c2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJpbnNwZWN0IiwiY3VzdG9tIl0sInNvdXJjZXMiOlsiRm9ybURhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRm9ybURhdGFfaW5zdGFuY2VzLCBfRm9ybURhdGFfZW50cmllcywgX0Zvcm1EYXRhX3NldEVudHJ5O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Gb3JtRGF0YSA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgRmlsZV8xID0gcmVxdWlyZShcIi4vRmlsZVwiKTtcbmNvbnN0IGlzRmlsZV8xID0gcmVxdWlyZShcIi4vaXNGaWxlXCIpO1xuY29uc3QgaXNCbG9iXzEgPSByZXF1aXJlKFwiLi9pc0Jsb2JcIik7XG5jb25zdCBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKFwiLi9pc0Z1bmN0aW9uXCIpO1xuY29uc3QgZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzXzEgPSByZXF1aXJlKFwiLi9kZXByZWNhdGVDb25zdHJ1Y3RvckVudHJpZXNcIik7XG5jbGFzcyBGb3JtRGF0YSB7XG4gICAgY29uc3RydWN0b3IoZW50cmllcykge1xuICAgICAgICBfRm9ybURhdGFfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0Zvcm1EYXRhX2VudHJpZXMuc2V0KHRoaXMsIG5ldyBNYXAoKSk7XG4gICAgICAgIGlmIChlbnRyaWVzKSB7XG4gICAgICAgICAgICAoMCwgZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzXzEuZGVwcmVjYXRlQ29uc3RydWN0b3JFbnRyaWVzKSgpO1xuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBmaWxlTmFtZSB9KSA9PiB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgWyhfRm9ybURhdGFfZW50cmllcyA9IG5ldyBXZWFrTWFwKCksIF9Gb3JtRGF0YV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBTeW1ib2wuaGFzSW5zdGFuY2UpXSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih2YWx1ZVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICYmIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IFwiRm9ybURhdGFcIlxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5hcHBlbmQpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLnNldClcbiAgICAgICAgICAgICYmICgwLCBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbikodmFsdWUuZ2V0KVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5nZXRBbGwpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmhhcylcbiAgICAgICAgICAgICYmICgwLCBpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbikodmFsdWUuZGVsZXRlKVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS5lbnRyaWVzKVxuICAgICAgICAgICAgJiYgKDAsIGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKSh2YWx1ZS52YWx1ZXMpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmtleXMpXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pXG4gICAgICAgICAgICAmJiAoMCwgaXNGdW5jdGlvbl8xLmlzRnVuY3Rpb24pKHZhbHVlLmZvckVhY2gpKTtcbiAgICB9XG4gICAgYXBwZW5kKG5hbWUsIHZhbHVlLCBmaWxlTmFtZSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9pbnN0YW5jZXMsIFwibVwiLCBfRm9ybURhdGFfc2V0RW50cnkpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgYXBwZW5kOiB0cnVlLFxuICAgICAgICAgICAgcmF3VmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgYXJnc0xlbmd0aDogYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0KG5hbWUsIHZhbHVlLCBmaWxlTmFtZSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9pbnN0YW5jZXMsIFwibVwiLCBfRm9ybURhdGFfc2V0RW50cnkpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgYXBwZW5kOiBmYWxzZSxcbiAgICAgICAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGg6IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmdldChTdHJpbmcobmFtZSkpO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGRbMF07XG4gICAgfVxuICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLmdldChTdHJpbmcobmFtZSkpO1xuICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkLnNsaWNlKCk7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikuaGFzKFN0cmluZyhuYW1lKSk7XG4gICAgfVxuICAgIGRlbGV0ZShuYW1lKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5kZWxldGUoU3RyaW5nKG5hbWUpKTtcbiAgICB9XG4gICAgKmtleXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Zvcm1EYXRhX2VudHJpZXMsIFwiZlwiKS5rZXlzKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqZW50cmllcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmdldEFsbChuYW1lKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW25hbWUsIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IFssIHZhbHVlXSBvZiB0aGlzKSB7XG4gICAgICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbKF9Gb3JtRGF0YV9zZXRFbnRyeSA9IGZ1bmN0aW9uIF9Gb3JtRGF0YV9zZXRFbnRyeSh7IG5hbWUsIHJhd1ZhbHVlLCBhcHBlbmQsIGZpbGVOYW1lLCBhcmdzTGVuZ3RoIH0pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGFwcGVuZCA/IFwiYXBwZW5kXCIgOiBcInNldFwiO1xuICAgICAgICBpZiAoYXJnc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEZhaWxlZCB0byBleGVjdXRlICcke21ldGhvZE5hbWV9JyBvbiAnRm9ybURhdGEnOiBgXG4gICAgICAgICAgICAgICAgKyBgMiBhcmd1bWVudHMgcmVxdWlyZWQsIGJ1dCBvbmx5ICR7YXJnc0xlbmd0aH0gcHJlc2VudC5gKTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGlmICgoMCwgaXNGaWxlXzEuaXNGaWxlKShyYXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZmlsZU5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gcmF3VmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBGaWxlXzEuRmlsZShbcmF3VmFsdWVdLCBmaWxlTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiByYXdWYWx1ZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IHJhd1ZhbHVlLmxhc3RNb2RpZmllZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgwLCBpc0Jsb2JfMS5pc0Jsb2IpKHJhd1ZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgRmlsZV8xLkZpbGUoW3Jhd1ZhbHVlXSwgZmlsZU5hbWUgPT09IHVuZGVmaW5lZCA/IFwiYmxvYlwiIDogZmlsZU5hbWUsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiByYXdWYWx1ZS50eXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgJyR7bWV0aG9kTmFtZX0nIG9uICdGb3JtRGF0YSc6IGBcbiAgICAgICAgICAgICAgICArIFwicGFyYW1ldGVyIDIgaXMgbm90IG9mIHR5cGUgJ0Jsb2InLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gU3RyaW5nKHJhd1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Gb3JtRGF0YV9lbnRyaWVzLCBcImZcIikuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHZvaWQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLnNldChuYW1lLCBbdmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFwcGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZvaWQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRm9ybURhdGFfZW50cmllcywgXCJmXCIpLnNldChuYW1lLCBbdmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfSwgU3ltYm9sLml0ZXJhdG9yKV0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgdGhpcykge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgICAgICByZXR1cm4gXCJGb3JtRGF0YVwiO1xuICAgIH1cbiAgICBbdXRpbF8xLmluc3BlY3QuY3VzdG9tXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXTtcbiAgICB9XG59XG5leHBvcnRzLkZvcm1EYXRhID0gRm9ybURhdGE7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osSUFBSUEsc0JBQXNCLEdBQUksVUFBUSxTQUFLQSxzQkFBc0IsSUFBSyxVQUFVQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDLEVBQUU7RUFDdEcsSUFBSUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDQyxDQUFDLEVBQUUsTUFBTSxJQUFJQyxTQUFTLENBQUMsK0NBQStDLENBQUM7RUFDNUYsSUFBSSxPQUFPSCxLQUFLLEtBQUssVUFBVSxHQUFHRCxRQUFRLEtBQUtDLEtBQUssSUFBSSxDQUFDRSxDQUFDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDSSxHQUFHLENBQUNMLFFBQVEsQ0FBQyxFQUFFLE1BQU0sSUFBSUksU0FBUyxDQUFDLDBFQUEwRSxDQUFDO0VBQ2xMLE9BQU9GLElBQUksS0FBSyxHQUFHLEdBQUdDLENBQUMsR0FBR0QsSUFBSSxLQUFLLEdBQUcsR0FBR0MsQ0FBQyxDQUFDRyxJQUFJLENBQUNOLFFBQVEs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TUFDbkIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUNJLElBQUkxQixRQUFRLEVBQUU7TUFDZixNQUFNLElBQUkzQixTQUFTLENBQUMsc0JBQXNCaUQsVUFBVSxtQkFBbUIsR0FDakUsb0NBQW9DLENBQUM7SUFDL0MsQ0FBQyxNQUNJO01BQ0Q5QyxLQUFLLEdBQUcyQyxNQUFNLENBQUNMLFFBQVEsQ0FBQztJQUM1QjtJQUNBLE1BQU1ILE1BQU0sR0FBRzNDLHNCQUFzQixDQUFDLElBQUksRUFBRVcsaUJBQWlCLEVBQUUsR0FBRyxDQUFDLENBQUNGLEdBQUcsQ0FBQ3NCLElBQUksQ0FBQztJQUM3RSxJQUFJLENBQUNZLE1BQU0sRUFBRTtNQUNULE9BQU8sS0FBSzNDLHNCQUFzQixDQUFDLElBQUksRUFBRVcsaUJBQWlCLEVBQUUsR0FBRyxDQUFDLENBQUNnQixHQUFHLENBQUNJLElBQUksRUFBRSxDQUFDdkIsS0FBSyxDQUFDLENBQUM7SUFDdkY7SUFDQSxJQUFJLENBQUN5QixNQUFNLEVBQUU7TUFDVCxPQUFPLEtBQUtqQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUVXLGlCQUFpQixFQUFFLEdBQUcsQ0FBQyxDQUFDZ0IsR0FBRyxDQUFDSSxJQUFJLEVBQUUsQ0FBQ3ZCLEtBQUssQ0FBQyxDQUFDO0lBQ3ZGO0lBQ0FtQyxNQUFNLENBQUNrQixJQUFJLENBQUNyRCxLQUFLLENBQUM7RUFDdEIsQ0FBQyxFQUFFNEIsTUFBTSxDQUFDUyxRQUFRLEtBQUs7SUFDbkIsT0FBTyxJQUFJLENBQUNwQixPQUFPLENBQUMsQ0FBQztFQUN6QjtFQUNBSyxPQUFPQSxDQUFDZ0MsUUFBUSxFQUFFQyxPQUFPLEVBQUU7SUFDdkIsS0FBSyxNQUFNLENBQUNoQyxJQUFJLEVBQUV2QixLQUFLLENBQUMsSUFBSSxJQUFJLEVBQUU7TUFDOUJzRCxRQUFRLENBQUN2RCxJQUFJLENBQUN3RCxPQUFPLEVBQUV2RCxLQUFLLEVBQUV1QixJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQzdDO0VBQ0o7RUFDQSxLQUFLSyxNQUFNLENBQUNJLFdBQVcsSUFBSTtJQUN2QixPQUFPLFVBQVU7RUFDckI7RUFDQSxDQUFDdkIsTUFBTSxDQUFDK0MsT0FBTyxDQUFDQyxNQUFNLElBQUk7SUFDdEIsT0FBTyxJQUFJLENBQUM3QixNQUFNLENBQUNJLFdBQVcsQ0FBQztFQUNuQztBQUNKO0FBQ0F6QixPQUFPLENBQUNDLFFBQVEsR0FBR0EsUUFBUSIsImlnbm9yZUxpc3QiOltdfQ==
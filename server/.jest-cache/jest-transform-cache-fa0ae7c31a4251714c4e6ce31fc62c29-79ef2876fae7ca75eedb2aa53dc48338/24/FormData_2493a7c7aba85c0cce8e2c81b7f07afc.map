{"version":3,"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","_FormData_instances","_FormData_entries","_FormData_setEntry","Object","defineProperty","exports","FormData","util_1","require","File_1","isFile_1","isBlob_1","isFunction_1","deprecateConstructorEntries_1","constructor","entries","add","set","Map","deprecateConstructorEntries","forEach","name","fileName","append","WeakMap","WeakSet","Symbol","hasInstance","Boolean","isFunction","toStringTag","getAll","delete","values","keys","iterator","rawValue","argsLength","arguments","length","field","String","slice","key","methodName","isFile","undefined","File","type","lastModified","isBlob","push","callback","thisArg","inspect","custom"],"sources":["FormData.js"],"sourcesContent":["\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormData_instances, _FormData_entries, _FormData_setEntry;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FormData = void 0;\nconst util_1 = require(\"util\");\nconst File_1 = require(\"./File\");\nconst isFile_1 = require(\"./isFile\");\nconst isBlob_1 = require(\"./isBlob\");\nconst isFunction_1 = require(\"./isFunction\");\nconst deprecateConstructorEntries_1 = require(\"./deprecateConstructorEntries\");\nclass FormData {\n    constructor(entries) {\n        _FormData_instances.add(this);\n        _FormData_entries.set(this, new Map());\n        if (entries) {\n            (0, deprecateConstructorEntries_1.deprecateConstructorEntries)();\n            entries.forEach(({ name, value, fileName }) => this.append(name, value, fileName));\n        }\n    }\n    static [(_FormData_entries = new WeakMap(), _FormData_instances = new WeakSet(), Symbol.hasInstance)](value) {\n        return Boolean(value\n            && (0, isFunction_1.isFunction)(value.constructor)\n            && value[Symbol.toStringTag] === \"FormData\"\n            && (0, isFunction_1.isFunction)(value.append)\n            && (0, isFunction_1.isFunction)(value.set)\n            && (0, isFunction_1.isFunction)(value.get)\n            && (0, isFunction_1.isFunction)(value.getAll)\n            && (0, isFunction_1.isFunction)(value.has)\n            && (0, isFunction_1.isFunction)(value.delete)\n            && (0, isFunction_1.isFunction)(value.entries)\n            && (0, isFunction_1.isFunction)(value.values)\n            && (0, isFunction_1.isFunction)(value.keys)\n            && (0, isFunction_1.isFunction)(value[Symbol.iterator])\n            && (0, isFunction_1.isFunction)(value.forEach));\n    }\n    append(name, value, fileName) {\n        __classPrivateFieldGet(this, _FormData_instances, \"m\", _FormData_setEntry).call(this, {\n            name,\n            fileName,\n            append: true,\n            rawValue: value,\n            argsLength: arguments.length\n        });\n    }\n    set(name, value, fileName) {\n        __classPrivateFieldGet(this, _FormData_instances, \"m\", _FormData_setEntry).call(this, {\n            name,\n            fileName,\n            append: false,\n            rawValue: value,\n            argsLength: arguments.length\n        });\n    }\n    get(name) {\n        const field = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(String(name));\n        if (!field) {\n            return null;\n        }\n        return field[0];\n    }\n    getAll(name) {\n        const field = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(String(name));\n        if (!field) {\n            return [];\n        }\n        return field.slice();\n    }\n    has(name) {\n        return __classPrivateFieldGet(this, _FormData_entries, \"f\").has(String(name));\n    }\n    delete(name) {\n        __classPrivateFieldGet(this, _FormData_entries, \"f\").delete(String(name));\n    }\n    *keys() {\n        for (const key of __classPrivateFieldGet(this, _FormData_entries, \"f\").keys()) {\n            yield key;\n        }\n    }\n    *entries() {\n        for (const name of this.keys()) {\n            const values = this.getAll(name);\n            for (const value of values) {\n                yield [name, value];\n            }\n        }\n    }\n    *values() {\n        for (const [, value] of this) {\n            yield value;\n        }\n    }\n    [(_FormData_setEntry = function _FormData_setEntry({ name, rawValue, append, fileName, argsLength }) {\n        const methodName = append ? \"append\" : \"set\";\n        if (argsLength < 2) {\n            throw new TypeError(`Failed to execute '${methodName}' on 'FormData': `\n                + `2 arguments required, but only ${argsLength} present.`);\n        }\n        name = String(name);\n        let value;\n        if ((0, isFile_1.isFile)(rawValue)) {\n            value = fileName === undefined\n                ? rawValue\n                : new File_1.File([rawValue], fileName, {\n                    type: rawValue.type,\n                    lastModified: rawValue.lastModified\n                });\n        }\n        else if ((0, isBlob_1.isBlob)(rawValue)) {\n            value = new File_1.File([rawValue], fileName === undefined ? \"blob\" : fileName, {\n                type: rawValue.type\n            });\n        }\n        else if (fileName) {\n            throw new TypeError(`Failed to execute '${methodName}' on 'FormData': `\n                + \"parameter 2 is not of type 'Blob'.\");\n        }\n        else {\n            value = String(rawValue);\n        }\n        const values = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(name);\n        if (!values) {\n            return void __classPrivateFieldGet(this, _FormData_entries, \"f\").set(name, [value]);\n        }\n        if (!append) {\n            return void __classPrivateFieldGet(this, _FormData_entries, \"f\").set(name, [value]);\n        }\n        values.push(value);\n    }, Symbol.iterator)]() {\n        return this.entries();\n    }\n    forEach(callback, thisArg) {\n        for (const [name, value] of this) {\n            callback.call(thisArg, value, name, this);\n        }\n    }\n    get [Symbol.toStringTag]() {\n        return \"FormData\";\n    }\n    [util_1.inspect.custom]() {\n        return this[Symbol.toStringTag];\n    }\n}\nexports.FormData = FormData;\n"],"mappings":"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","ignoreList":[]}